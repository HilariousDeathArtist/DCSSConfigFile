# TEAMCAPTAIN MoogleDan
# Got suggestions/improvements?
# https://github.com/HilariousDeathArtist/DCSSConfigFile
# or find me on crawl.s-z.org

<
  function ready()
    AnnounceDamage()
    SpoilerAlert()
    OpenSkills()
  end
>

< function sendkeys(command)
 crawl.flush_input()
 crawl.sendkeys(command)
 coroutine.yield(true)
 crawl.flush_input()
end >

######################
#    Safe Travel     #
######################
-- To use this create a macro with the following function call
-- ===safetravel
-- Rests up to at least 75% hp (or missing at least 30hp) and 50% mp (or missing at least 20mp)
-- Eats chunks automatically, handled by auto_eat_chunks interface option
-- Travels to the nearest corpse if we have no chunks and are at Very Hungry or Hungry or using Gourmand and at Full
-- Automatically chops valid corpses if we are standing on them and we have no chunks
-- Will stop autotravel at Near Starving
-- TODO: better detection of non-edible corpses before standing on them
-- If you don't have rP you will get stuck on poisonous corpses, chop or otherwise get rid of them to continue

:function safetravel()
:  local mp, max_mp = you.mp()
:  local hp, max_hp = you.hp()
:  local first_monster = next(getMonsterList())
:  local should_check_for_corpse = not (no_results() or dont_know_how_to_get_there())
:  local is_safe = (first_monster == nil)
:  local missing_mp = (mp < max_mp)
:  local you_are_sif = string.find(you.god(), "Sif")
:  local you_are_mummy = string.find(you.race(), "Mummy")
:  local you_are_sifmummy = you_are_sif and you_are_mummy
:  local gourmand_and_hungry = you_are_gourmand() and not you_are_engorged()
:  local you_want_chunks = have_no_chunks() and (you_are_hungry() or gourmand_and_hungry)
:  if (false) then
:    crawl.mpr(string.format("is_safe is: %s", is_safe and "True" or "False"))
:    crawl.mpr(string.format("should_rest is: %s", should_rest(hp, mp, max_hp, max_mp) and "True" or "False"))
:    crawl.mpr(string.format("hungername is: %s", you.hunger_name()))
:    crawl.mpr(string.format("you_are_engorged is: %s", you_are_engorged() and "True" or "False"))
:    crawl.mpr(string.format("you_are_hungry is: %s", you_are_hungry() and "True" or "False"))
:    crawl.mpr(string.format("you_are_near_starving is: %s", you_are_near_starving() and "True" or "False"))
:    crawl.mpr(string.format("you_are_carnivore is: %s", you_are_carnivore() and "True" or "False"))
:    crawl.mpr(string.format("you_are_gourmand is: %s", you_are_gourmand() and "True" or "False"))
:    crawl.mpr(string.format("have_no_chunks is: %s", have_no_chunks() and "True" or "False"))
:    crawl.mpr(string.format("on_corpses is: %s", on_corpses() and "True" or "False"))
:    crawl.mpr(string.format("no_results is: %s", no_results() and "True" or "False"))
:    crawl.mpr(string.format("dont_know_how_to_get_there is: %s", dont_know_how_to_get_there() and "True" or "False"))
:    crawl.mpr(string.format("should_check_for_corpse is: %s", should_check_for_corpse and "True" or "False"))
:    crawl.mpr(string.format("missing_mp is: %s", missing_mp and "True" or "False"))
:    crawl.mpr(string.format("you_are_sif is: %s", you_are_sif and "True" or "False"))
:    crawl.mpr(string.format("you_are_sifmummy is: %s", you_are_sifmummy and "True" or "False"))
:    crawl.mpr(string.format("gourmand_and_hungry is: %s", gourmand_and_hungry and "True" or "False"))
:    crawl.mpr(string.format("you_want_chunks is: %s", you_want_chunks and "True" or "False"))
:  end
:  if (is_safe) then 
:    if (missing_mp and you_are_sifmummy) then
:      crawl.mpr("<green>Autochanneling.</green>")
:      sendkeys('aa')
:    elseif should_rest(hp, mp, max_hp, max_mp) then
:      rest()
:    elseif you_want_chunks and not on_chunks() then 
:      if on_corpses() then 
:        if restricted_corpse() then
:          autoexplore()
:        else
:         chop_corpses()
:        end
:      elseif you_are_near_starving() then
:        crawl.mpr("<lightred>You should find something to eat.</lightred>")
:      elseif should_check_for_corpse then
:        find_corpses()
:      else
:        --Keep looking for things to kill
:        autoexplore()
:      end
:    else
:      --This does the general travelling
:      autoexplore()
:    end
:  else 
:    --This will provide the "foo is nearby" message 
:    autoexplore()
:  end
:end

: function should_rest(hp, mp, max_hp, max_mp)
:   local is_mummy = string.find(you.race(), "Mummy")
:   return is_mummy and
:          (mp < (max_mp*0.50)) 
:           or (hp < (max_hp*0.75)) 
:           or ((max_hp-hp) > 30) 
:           or ((max_mp-mp) > 20) 
:           or (you.slowed()) 
:           or (you.poisoned()) 
:           or (you.confused())
:           or (you.exhausted())
: end

-- Hungry, Very Hungry, Near Starving
: function you_are_hungry()
:   return not you_are_not_hungry() and ((string.find(you.hunger_name(), "hungry")) or you_are_near_starving())
: end

-- Normal Satiation
: function you_are_not_hungry()
:   return (string.find(you.hunger_name(), "not hungry"))
: end

-- Engorged
: function you_are_engorged()
:   return (string.find(you.hunger_name(), "completely stuffed"))
: end

-- Near Starving, Starving
: function you_are_near_starving()
:   return (string.find(you.hunger_name(), "starving"))
: end

: function autoexplore()
:   sendkeys('o')
: end

: function no_results()
:   return string.find(crawl.messages(10), escape("Can't find anything matching that"))   
: end

: function dont_know_how_to_get_there()
:   return string.find(crawl.messages(10), escape("know how to get there"))
:       or string.find(crawl.messages(10), escape("Have to go through"))
: end

: function rest()
:   sendkeys('5')
: end

: function you_are_gourmand()
:   local gourmand_race = (you.race() == "Troll" or you.race() == "Kobold" or you.race() == "Felid")
:   local has_amulet = items.equipped_at("amulet")
:   local gourmand_amulet = false
:   if (has_amulet) then
:     gourmand_amulet = string.find(has_amulet.name(), "gourmand")
:   end 
:   return (gourmand_race or gourmand_amulet)
: end

: function have_no_chunks()
:   local i
:   local it
:   for i = 0,51 do
:     it = items.inslot(i)
:     if it 
:        and string.find(it.name(),"chunk") 
:        and not food.dangerous(it) 
:        and (you_are_carnivore() or food.rotting(it)) then
:       return false
:     end
:   end
:   return true
: end

: function on_corpses()
:   local fl = you.floor_items()
:   for it in iter.invent_iterator:new(fl) do
:     if (food.dangerous(it) or food.rotting(it)) and you_are_not_ghoul() then
:       return false
:     elseif string.find(it.name(), "corpse") then
:       return true
:     end
:   end
: end

: function on_chunks()
:   local fl = you.floor_items()
:   for it in iter.invent_iterator:new(fl) do
:     if (food.dangerous(it) or food.rotting(it)) and you_are_not_ghoul() then
:       return false
:     elseif string.find(it.name(), "chunk") then
:       return true
:     end
:   end
: end

: function you_are_carnivore()
:   return (string.find(you.race(), "ghoul")) or  
:          (string.find(you.race(), "kobold")) or 
:          (string.find(you.race(), "ogre")) or 
:          (string.find(you.race(), "hill orc")) or 
:          (string.find(you.race(), "felid")) 
: end

: function you_are_not_ghoul()
:   return not (string.find(you.race(), "ghoul"))
: end

: function restricted_corpse()
:   local fl = you.floor_items()
:   for it in iter.invent_iterator:new(fl) do
:     if you_are_not_ghoul() and 
:       ((string.find(it.name(), "orc") and you.god() =="Beogh")
:         or string.find(it.name(), "ugly")
:         or string.find(it.name(), "death")
:         or string.find(it.name(), "vampire")
:         or string.find(it.name(), "sky beast")
:         or string.find(it.name(), "mana viper")
:         or string.find(it.name(), "shadow")
:         or string.find(it.name(), "shapeshifter")) then
:       return true
:     end
:   end
:   return false
: end

: function chop_corpses()
:   crawl.mpr("<green>Autochopping corpse.</green>")
:   if on_corpses() then
:     sendkeys('c')
:   end
: end

: function find_corpses()
--:   crawl.mpr("<yellow>You may need something to eat soon, looking for the nearest corpse.</yellow>")
:   sendkeys(string.char(6) .. "@corpse&&!!rott&&!!skel&&!!sky&&!!vampire" .. "\r")
:   if (not (no_results() or dont_know_how_to_get_there())) then
:     sendkeys("a\r")
:   end
: end

##################
# Mob Warnings   #
# orig. ScarletJ #
##################

< 
  function SpoilerAlert()
    local mobwarnings = {}
    --Add dangerous monsters to this table by using their name as the key, (as a lua pattern)
    --Set the value to the warning string you want to display, where it will formatted like:
    --"[The] Monster_Name Warning_Message"
    --If the Monster_Name includes a capital letter, the message will be prepended with [The] 
    
    if you.xl() < 3 then
      mobwarnings["giant mite"] = "can poison!"
      mobwarnings["giant cockroach"] = "is fast!"
      mobwarnings["giant gecko"] = "is fast!"
      mobwarnings["jackal"] = "is fast!"
    end
    if you.xl() < 5 then
      mobwarnings["adder"] = "is fast and can poison!"
      mobwarnings["worm"] = "can do moderate damage in melee!"
      mobwarnings["scorpion"] = "can poison!"
    end
    if you.xl() < 7 then
      mobwarnings["worker ant"] = "is fast and can poison!"
      mobwarnings["jelly"] = "can corrode equipment in melee!"
      mobwarnings["phantom"] = "can blink and does moderate damage in melee!"
      mobwarnings["mummy"] = "can do moderate damage in melee!"
      mobwarnings["ogre"] = "can do high damage in melee!"
      mobwarnings["gnoll"] = "can do moderate damage in melee, and throws nets!"
      mobwarnings["Sigmund"] = "can cast Slow, Confuse, Throw Flame, and go Invisible!"
      mobwarnings["Eustachio"] = "can summon minor creatures and blink!"
      mobwarnings["Blork"] = "can cast Haste, Throw Frost, Throw Flame, and go Invisible!"
      mobwarnings["Crazy Yiuf"] = "can hit for high damage!"
      mobwarnings["Duvessa"] = "can hit for high damage, and goes Berserk when Dowan dies!"
      mobwarnings["Dowan"] = "can Haste Duvessa, and will become Hasted and cast Throw Icicle when Duvessa dies!"
      mobwarnings["Ijyb"] = "will often zap you with wands!"
      mobwarnings["orc wizard"] = "might cast slow or confuse!"
      mobwarnings["big kobold"] = "will probably throw things at you!"
    end
    if you.xl() < 14 then
      mobwarnings["shadow imp"] = "can cast Pain and Animate Dead!"
      mobwarnings["wight"] = "can drain you in melee!"
      mobwarnings["warg"] = "if fast and can hit for moderate damage in melee!"
      mobwarnings["white imp"] = "can cast Throw Frost and break potions!"
      mobwarnings["slave"] = "means Pikel is nearby!"
      mobwarnings["Pikel"] = "can hit for high damage in melee!"
      mobwarnings["gargoyle"] = "can cast Stone Arrow!"
      mobwarnings["blink frog"] = "is fast, blinks, and can hit for moderate damage in melee!"
      mobwarnings["soldier ant"] = "is fast and can poison!"
      mobwarnings["wolf"] = "is very fast and can hit for moderate damage in melee!"
      mobwarnings["goliath beetle"] = "can hit for high damage in melee!"
      mobwarnings["wyvern"] = "is fast and can hit for high damage in melee!"
      mobwarnings["hippogriff"] = "can hit for high damage in melee!"
      mobwarnings["small abomination"] = "might be fast and can hit for high damage in melee!"
      mobwarnings["water moccasin"] = "is fast and can poison!"
      mobwarnings["queen ant"] = "can berserk other ants!"
      mobwarnings["gnoll shaman"] = "can heal itself and can heal or Haste other gnolls!"
      mobwarnings["Prince Ribbit"] = "is fast and can hit for high damage in melee!"
      mobwarnings["spiny frog"] = "is fast and can hit for high damage in melee!"
      mobwarnings["killer bee"] = "is very fast, and does poison damage!"
      mobwarnings["orc warrior"] = "can hit for high damage!"
      mobwarnings["hill giant"] = "can hit for high damage in melee!"
      mobwarnings["troll"] = "can hit for high damage in melee, and regenerates quickly!"
      mobwarnings["black mamba"] = "is very fast and can hit for high damage in melee!"
      mobwarnings["ice beast"] = "can break potions and do moderate damage in melee!"
      mobwarnings["Grinder"] = "can cast paralyse!"
      mobwarnings["Psyche"] = "might banish you in melee!"
      mobwarnings["two-headed ogre"] = "can do high damage in melee!"
      mobwarnings["raven"] = "is very fast and can hit for moderate damage in melee!"
      mobwarnings["yak"] = "can hit for moderate damage in melee!"
      mobwarnings["centaur"] = "is fast and can hit for moderate damage at range!"
      mobwarnings["electric eel"] = "can hit for high damage at range!"
      mobwarnings["slime creature"] = "can hit for high damage in melee!"
    end
    if you.xl() < 21 then
      mobwarnings["minotaur"] = "can hit for very high damage!"
      mobwarnings["wolf spider"] = "is fast andcan hit for high damage in melee!"
      mobwarnings["Snorg"] = "can berserk!"
      mobwarnings["manticore"] = "can hit for high damage at range, and impale you with Barbs!"
      mobwarnings["large abomination"] = "might be fast and can hit for high damage in melee!"
      mobwarnings["raiju"] = "is fast and can Lightning Bolt itself at you!"
      mobwarnings["harpy"] = "is very fast and can hit for high damage in melee!"
      mobwarnings["bog body"] = "can cast Bolt of Cold and Slow!"
      mobwarnings["anaconda"] = "is very fast and can constrict you!"
      mobwarnings["Kirke"] = "can summon Monstrous Menageries, go invisible, turn you into a pig, and deflects missiles!"
      mobwarnings["thorn lotus"] = "can hit for high damage at range!"
      mobwarnings["shock serpent"] = "is fast and can cast Lightning Bolt and has an electric aura!"
      mobwarnings["tengu conjurer"] = "is fast and can cast Force Lance, IMB, Bolt of Magma, Lightning Bolt, or Venom Bolt!"
      mobwarnings["tengu warrior"] = "is fast and can hit for high damage in melee!"
      mobwarnings["salamander"] = "can burn your scrolls in melee and at range!"
      mobwarnings["naga warrior"] = "can constrict you and hit for high damage in melee!"
      mobwarnings["naga mage"] = "can cast IMB and Poison Arrow!"
      mobwarnings["naga ritualist"] = "can remove poison resistance, and do damage over time with toxic radiance!"
      mobwarnings["kobold demonologist"] = "can summon minor demons!"
      mobwarnings["death yak"] = "can hit for high damage in melee!"
      mobwarnings["centaur warrior"] = "can hit for high damage at range!"
      mobwarnings["large slime creature"] = "can hit for high damage in melee!"
      mobwarnings["enormous slime creature"] = "can hit for high damage in melee!"
      mobwarnings["hydra"] = "can hit for high damage in melee!"
      mobwarnings["dire elephant"] = "can hit for high damage in melee!"
      mobwarnings["orc knight"] = "can hit for high damage!"
      mobwarnings["naga sharpshooter"] = "can shoot you with portal projectiles!"
      mobwarnings["orc sorcerer"] = "can cast paralyse!"
      mobwarnings["wraith"] = "can slow you in melee!"
      mobwarnings["cyclops"] = "can throw large rocks!"
      mobwarnings["Harold"] = "can throw nets and cast bolt of fire!"
      mobwarnings["Maurice"] = "can steal items, go invisible, and teleport away!"
      mobwarnings["Sonja"] = "will probably banish you in melee!"
      mobwarnings["komodo dragon"] = "can cause sickness in melee!"
      mobwarnings["purple ugly thing"] = "is fast and can cause sickness in melee!"
      mobwarnings["brown ugly thing"] = "is fast and can cause corrosion in melee!"
      mobwarnings["brown very ugly thing"] = "is fast and can cause corrosion in melee!"
      mobwarnings["red ugly thing"] = "is fast and can burn your scrolls in melee!"
      mobwarnings["tarantella"] = "is fast and can cause confusion in melee!"
      mobwarnings["Erolcha"] = "might cast banishment, paralyse, or LCS!"
    end
    if you.xl() < 27 then 
      mobwarnings["water nymph"] = "can create water, teleport to other water, and Waterstrike you!"
      mobwarnings["salamander firebrand"] = "is fast and melee attacks will surround you with flame clouds!"
      mobwarnings["eidolon"] = "can cast Bolt of Draining and Fear!"
      mobwarnings["yaktaur"] = "can hit for high damage at range!"
      mobwarnings["Wiglaf"] = "can cast might and haste on himself!"
      mobwarnings["orc warlord"] = "can hit for high damage!"
      mobwarnings["titanic slime creature"] = "can hit for high damage in melee!"
      mobwarnings["Rupert"] = "can paralyse you in fear!"
      mobwarnings["tengu reaver"] = "is fast and might cast Bolt of Magma, Fireball, Lightning Bolt, or Freezing Cloud!"
      mobwarnings["greater naga"] = "is strong in melee, and can cast poison arrow and IMB!"
      mobwarnings["salamander mystic"] = "can haste allies, and can cast bolt of magma and IMB!"
      mobwarnings["Vashnia"] = "can blink herself and allies away!"
      mobwarnings["electric golem"] = "is fast and has nasty electric attacks!"
      mobwarnings["great orb of eyes"] = "can cast paralyse, disintegrate, slow, confuse, and teleport you!"
      mobwarnings["vampire knight"] = "can cast paralyse!"
      mobwarnings["vampire mage"] = "can Summon Undead and Animate Dead!"
      mobwarnings["fire giant"] = "can cast fireball and bolt of fire!"
      mobwarnings["frost giant"] = "can cast bolt of cold!"
      mobwarnings["stone giant"] = "can throw large rocks and is a brute in melee!"
      mobwarnings["ettin"] = "is a beast in melee!"
      mobwarnings["fire dragon"] = "has a nasty fire breath attack!"
      mobwarnings["ice dragon"] = "has a nasty cold breath attack!"
      mobwarnings["storm dragon"] = "has a nasty electric breath attack!"
      mobwarnings["Aizul"] = "is very fast and casts Sleep and Poison Arrow!"
      mobwarnings["Louise"] = "can cast banishment!"
      mobwarnings["purple very ugly thing"] = "is fast and can cause rotting in melee!"
      mobwarnings["red very ugly thing"] = "is fast and can cause sticky flames in melee!"
      mobwarnings["flaming corpse"] = "is fast and can cause sticky flames in melee!"
      mobwarnings["deep troll earth mage"] = "can cast LRD and dig!"
      mobwarnings["wizard"] = "might cast banishment, paralyse, or LCS!"    
      mobwarnings["ogre mage"] = "might cast banishment, paralyse, or LCS!"
      mobwarnings["purple draconian"] = "can dispel your buffs!"
      mobwarnings["yellow draconian"] = "can corrode your equipment at range!"
      mobwarnings["mottled draconian"] = "can spit sticky flames at range!"
      mobwarnings["vault sentinel"] = "can mark you and blow a signal horn!"
      mobwarnings["vault warden"] = "can lockdown doors and staircases!"
      mobwarnings["ironheart preserver"] = "can absorb the damage of its allies and heal itself!"
    end
    mobwarnings["shadow dragon"] = "has a nasty draining breath attack!"
    mobwarnings["golden dragon"] = "has multiple nasty breath attacks!"
    mobwarnings["phantasmal warrior"] = "can bypass armour and shields, and lowers MR!"
    mobwarnings["fire crab"] = "has a flaming cloud breath attack!"
    mobwarnings["giant eyeball"] = "can paralyse you!"
    mobwarnings["mana viper"] = "is fast and has an antimagic bite!"
    mobwarnings["golden eyeball"] = "can confuse you!"
    mobwarnings["spriggan druid"] = "is very fast and can awaken trees, and cast might on recalled animals!"
    mobwarnings["thorn hunter"] = "can throw a nasty volley of thorns, and create brambles!"
    mobwarnings["apocalypse crab"] = "is fast and has a chaos cloud breath attack!"
    mobwarnings["tentacled monstrosity"] = "has dangerous constriction in melee!"
    mobwarnings["red wasp"] = "is very fast and can paralyse, slow, and poison in melee!"
    mobwarnings["yellow wasp"] = "is very fast and can paralyse and poison in melee!"
    mobwarnings["air mage"] = "can cast airstrike!"
    mobwarnings["titan"] = "can cast airstrike!"
    mobwarnings["jumping spider"] = "is fast and can ensnare you in webs!"
    mobwarnings["Arachne"] = "can ensnare you in her webs!"
    mobwarnings["blizzard demon"] = "can cast airstrike!"
    mobwarnings["wind drake"] = "can cast airstrike!"
    mobwarnings["Gastronok"] = "can cast airstrike!"
    mobwarnings["Enchantress"] = "is very fast and can cast Dimension Anchor, Slow, Haste, Mass Confusion, and Strip Resistance!"
    mobwarnings["Sojobo"] = "is fast and can cast airstrike!"
    mobwarnings["deep elf demonologist"] = "can cast banishment or summon Greater Demons!"
    mobwarnings["draconian caller"] = "can summon Dragons and Death Drakes!"
    mobwarnings["draconian annihilator"] = "can cast Lehudib's Crystal Spear or Iron Shot!"
    mobwarnings["draconian zealot"] = "can cast smite-targeted Hellfire or smite you!"
    mobwarnings["deep elf annihilator"] = "can cast Lehudib's Crystal Spear or Iron Shot!"
    mobwarnings["blood saint"] = "can cast LCS and other Legendary Destruction!"
    mobwarnings["black sun"] = "can give allies a dangerous black mark which gives melee effects!"
    mobwarnings["corrupter"] = "can summon allies from various branches!"
    mobwarnings["moth of wrath"] = "is fast and can enrage both enemies and you!"
    mobwarnings["orb spider"] = "is fast and can cast Orb of Destruction!"
    mobwarnings["deep troll shaman"] = "can cast haste and might on allies!"
    mobwarnings["warmonger"] = "can sap your magic and summon a grand avatar!"
    mobwarnings["chaos champion"] = "can dispel or entrap you, or other chaos effects!"
    mobwarnings["draconian shifter"] = "can block teleports, blink allies encircling you, or cause you to blink!"
    mobwarnings["guardian serpent"] = "can blink allies encircling you!"
    mobwarnings["Roxanne"] = "can cast LCS and Iron Shot at you, or shift your position!"
    mobwarnings["lich"] = "might cast banishment, paralyse, summon demon, or LCS!"
    mobwarnings["draconian scorcher"] = "can cast smite-targeted Hellfire!"
    mobwarnings["hellion"] = "can cast smite-targeted Hellfire!"
    mobwarnings["Azrael"] = "can cast smite-targeted Hellfire!"
    mobwarnings["deep elf sorcerer"] = "can cast banishment or line-of-sight Hellfire!"
    mobwarnings["deep elf mage"] = "can cast fireball and slow!"
    mobwarnings["quicksilver dragon"] = "can dispel your buffs!"
    mobwarnings["ironbrand convoker"] = "can recall allies and cast might on them!"
    mobwarnings["Hell Sentinel"] = "can cast line-of-sight Hellfire and Iron Shot!"
    mobwarnings["Asmodeus"] = "can cast line-of-sight Hellfire and Summon Greater Demons!"
    mobwarnings["flayed ghost"] = "can Flay you to shreds!"
    mobwarnings["Ice Fiend"] = "can cast Torment!"
    mobwarnings["Shadow Fiend"] = "can cast Torment and Dispel Undead!"
    mobwarnings["curse skull"] = "can cast Torment and Summon Undead!"
    mobwarnings["tormentor"] = "can cast Torment!"
    mobwarnings["curse toe"] = "can cast Torment and Summon Fungus!"
    mobwarnings["Menkaure"] = "can cast Torment!"
    mobwarnings["Gloorx Vloq"] = "can cast Torment!"
    mobwarnings["Ereshkigal"] = "can cast Torment and paralyse!"
    mobwarnings["Brimstone Fiend"] = "can cast Torment and line-of-sight Hellfire!"
    mobwarnings["daeva"] = "can smite you!"
    mobwarnings["balrug"] = "can smite you, and cast fireball!"
    mobwarnings["smoke demon"] = "can smite you, and cast ranged sticky flame!"
    mobwarnings["deep elf priest"] = "can smite you!"
    mobwarnings["orc priest"] = "can smite you!"
    mobwarnings["orc high priest"] = "can smite you!"
    mobwarnings["starcursed mass"] = "can smite you!"
    mobwarnings["Frances"] = "can smite you!"
    mobwarnings["Mnoleg"] = "cast Summon Eyes and smite you!"
    mobwarnings["deep elf high priest"] = "can cast smite-targeted Hellfire or smite you!"
    mobwarnings["mummy priest"] = "can cast Torment and smite you!"
    mobwarnings["greater mummy"] = "can cast Torment and smite you!"
    mobwarnings["Khufu"] = "can cast Torment and smite you!"
    mobwarnings["sphinx"] = "can cast paralyse, slow, confuse, and smite you!"
    mobwarnings["Norris"] = "can cast paralyse and smite you, or drain your Int!"
    mobwarnings["catoblepas"] = "can petrify you with its breath!"
    mobwarnings["Jorgrun"] = "can cast petrify and shatter!"
    mobwarnings["brain worm"] = "can drain your Int!"
    mobwarnings["orange crystal statue"] = "can cast confuse and Shadow Creatures, or drain your Int!"
    mobwarnings["Jory"] = "can mesmerise, cast LCS and blink close!"
    mobwarnings["neqoxec"] = "can mutate you or drain your Int!"
    mobwarnings["cacodemon"] = "can mutate you!"
    mobwarnings["shining eye"] = "can mutate you!"
    mobwarnings["orb of fire"] = "can mutate you!"
    mobwarnings["pulsating lump"] = "can mutate you in melee!"
    mobwarnings["Cerebov"] = "can cast Fire Storm, Iron Shot, and Summon Greater Demons!"
    mobwarnings["Mennas"] = "can cast silence and confuse!"
    mobwarnings["Ignacio"] = "can cast Agony!"
    mobwarnings["giant orange brain"] = "can cast Shadow Creatures, or drain your Int!"
    mobwarnings["boggart"] = "can cast Shadow Creatures!"
    mobwarnings["shadow demon"] = "can cast Shadow Creatures!"
    mobwarnings["ynoxinul"] = "can cast Iron Shot!"
    mobwarnings["Frederick"] = "can cast Iron Shot!"
    mobwarnings["Dispater"] = "can cast line-of-sight Hellfire, Iron Shot, and summon Greater Demons!"
    mobwarnings["ghost moth"] = "will drain your Magic!"
    mobwarnings["eye of draining"] = "will drain your Magic!"
  
    -- Holds the overall alert message and count of dangers 
    local alerts = ""
    local short_alert = " "
    local total_dangers = 0
    -- For each type of monster you can see, using getMonsterList()
    -- This goes through each monster in the mobwarnings table above and
    -- Checks to see if it matches the description of each mob in sight
    -- Excluding forms that can't cast: zombie, skeleton, simulcrum, but not incapacited forms
    for mons, count in pairs(getMonsterList()) do  
      for mob, message in pairs(mobwarnings) do
        if string.find(mons, mob) 
        and not string.find(mons, "zombie")
        and not string.find(mons, "skeleton")
        and not string.find(mons, "shaped block of ice")
        and not string.find(mons, "spectral")
        and not string.find(mons, "simulacr") 
        and not (string.find(mons, "orc") and mob == "wizard") then
          --Used to format the string for Unique/Named mobs
          local is_fiend = (string.find(mons, "Fiend") ~= nil)
          local is_uppercase = (string.find(mons, "%u") ~= nil)
          local is_unique = is_uppercase and not is_fiend
          --Holds this mobs alert message
          local alert = ""
          local mob_name = ""
          --Formatting for uniques
          if is_unique then
            alert = "<cyan>" .. mons .. "</cyan> " .. message
            mob_name = mons
          --For more than 1 of the same monster
          elseif (count > 1) then
            alert = "The <cyan>".. mons .. "</cyan> " .. message .. " x" .. count
            mob_name = mons .. " x" .. count 
          --For a single non-unique monster
          else
            alert = "The <cyan>" .. mons .. "</cyan> " .. message
            mob_name = mons
          end
          --Keeps a count of all the found matches
          total_dangers = total_dangers + count
          --Adds the created alert string to the full string of alerts
          alerts = alerts .. " " .. alert
          short_alert = short_alert .. mob_name .. ", " 
        end
      end
    end
    
    short_alert = string.sub(short_alert, 1, -3) .. "!"
    
    --If there is an alert and it was not displayed in the last six messages then display the warning
    if not ((alerts == "") 
    or string.find(crawl.messages(6), escape(alerts))) then
      --For a single monster
      if total_dangers == 1 then
        crawl.mpr("<lightgrey>Spoiler Alert:" .. alerts .. "</lightgrey>")
      --For 2 or 3
      elseif total_dangers < 4 then
        crawl.mpr("<yellow>Warning x"..total_dangers .. ":" .. alerts .. "</yellow>")
      --For 4 to 7
      elseif total_dangers < 8 and (not string.find(crawl.messages(6), escape(short_alert))) then
        crawl.mpr("<lightred>Danger x" ..total_dangers .. ":" .. short_alert .. "</lightred>")
      --For 8 or more
      elseif not string.find(crawl.messages(6), escape(short_alert)) then
        crawl.mpr("<red>PANIC x" ..total_dangers .. ":" .. short_alert .. "</red>")
      end
    end
  end
  
  -- Returns a table where the key is the monster description and value is the total number of that mob in your vision
  function getMonsterList()
    local monsters = {}
    for x = -8,8 do
      for y = -8,8 do
        m = monster.get_monster_at(x, y)
        local attitude_hostile = 0
        if m and (m:attitude() == attitude_hostile) and not (m:is_firewood()) then
          desc = m:desc()
          if (monsters[desc] == nil) then
            monsters[desc] = 1
          else
            monsters[desc] = monsters[desc] + 1
          end
        end
      end
    end
    return monsters   
  end

  --Escapes the special characters in a string for pattern matching
  function escape(str)
    --Escapes parens and dash "()-"
    local escaped = str:gsub('[%(%)%-]','%\%1')
    --Removes any coloration parts of the string
    return (escaped:gsub('<[^<]*>',''))
  end
>

###############
# Damage Calc #
###############
: local previous_hp = 0
: local previous_mp = 0
:
: function AnnounceDamage()
:   local current_hp, max_hp = you.hp()
:   local current_mp, max_mp = you.mp()
:
:   --Skips message on initializing game
:   if previous_hp > 0 then
:     local hp_difference = previous_hp - current_hp
:     local mp_difference = previous_mp - current_mp
:   
:     --On losing health
:     if (current_hp < previous_hp) then
:       if current_hp <= (max_hp * 0.30) then
:         crawl.mpr("<red>You take " .. hp_difference .. " damage,</red><lightred> and have " .. current_hp .. "/" .. max_hp .. " hp.</lightred>")
:       elseif current_hp <= (max_hp * 0.50) then
:         crawl.mpr("<red>You take " .. hp_difference .. " damage, and have " .. current_hp .. "/" .. max_hp .. " hp.</red>")
:       elseif current_hp <= (max_hp *  0.70) then
:         crawl.mpr("<red>You take " .. hp_difference .. " damage,</red><yellow> and have " .. current_hp .. "/" .. max_hp .. " hp.</yellow>")
:       elseif current_hp <= (max_hp * 0.90) then
:         crawl.mpr("<red>You take " .. hp_difference .. " damage,</red><lightgrey> and have " .. current_hp .. "/" .. max_hp .. " hp.</lightgrey>")
:       else
:         crawl.mpr("<red>You take " .. hp_difference .. " damage,</red><green> and have " .. current_hp .. "/" .. max_hp .. " hp.</green>")
:       end
:       if hp_difference > (max_hp * 0.20) then
:         crawl.mpr("<lightred>MASSIVE DAMAGE!!</lightred>")
:       end
:     end
:
:     --On gaining more than 1 health
:     if (current_hp > previous_hp) then
:       --Removes the negative sign
:       local health_inturn = (0 - hp_difference)
:       if (health_inturn > 1) and not (current_hp == max_hp) then
:         if current_hp <= (max_hp * 0.30) then
:           crawl.mpr("<green>You regained " .. health_inturn .. " hp,</green><lightred> and now have " .. current_hp .. "/" .. max_hp .. " hp.</lightred>")
:         elseif current_hp <= (max_hp * 0.50) then
:           crawl.mpr("<green>You regained " .. health_inturn .. " hp,</green><red> and now have " .. current_hp .. "/" .. max_hp .. " hp.</red>")
:         elseif current_hp <= (max_hp *  0.70) then
:           crawl.mpr("<green>You regained " .. health_inturn .. " hp,</green><yellow> and now have " .. current_hp .. "/" .. max_hp .. " hp.</yellow>")
:         elseif current_hp <= (max_hp * 0.90) then
:           crawl.mpr("<green>You regained " .. health_inturn .. " hp,</green><lightgrey> and now have " .. current_hp .. "/" .. max_hp .. " hp.</lightgrey>")
:         else
:           crawl.mpr("<green>You regained " .. health_inturn .. " hp, and now have " .. current_hp .. "/" .. max_hp .. " hp.</green>")
:         end
:       end
:       if (current_hp == max_hp) then
:         crawl.mpr("<green>Health restored: " .. current_hp .. "</green>")
:       end
:     end
:
:     --On gaining more than 1 magic
:     if (current_mp > previous_mp) then
:       --Removes the negative sign
:       local mp_inturn = (0 - mp_difference)
:       if (mp_inturn > 1) and not (current_mp == max_mp) then
:         if current_mp < (max_mp * 0.25) then 
:           crawl.mpr("<lightcyan>You regained " .. mp_inturn .. " mp,</lightcyan><red> and now have " .. current_mp .. "/" .. max_mp .. " mp.</red>")
:         elseif current_mp < (max_mp * 0.50) then 
:           crawl.mpr("<lightcyan>You regained " .. mp_inturn .. " mp,</lightcyan><yellow> and now have " .. current_mp .. "/" .. max_mp .. " mp.</yellow>")
:         else
:           crawl.mpr("<lightcyan>You regained " .. mp_inturn .. " mp, and now have " .. current_mp .. "/" .. max_mp .. " mp.</lightcyan>")
:         end
:       end
:       if (current_mp == max_mp) then
:         crawl.mpr("<lightcyan>MP restored: " .. current_mp .. "</lightcyan>")
:       end
:     end
:
:     --On losing magic
:     if current_mp < previous_mp then
:       if current_mp <= (max_mp / 5) then
:         crawl.mpr("<red>Danger: You now have " .. current_mp .. "/" ..max_mp .." mp.</red>")       
:       elseif current_mp <= (max_mp / 2) then
:         crawl.mpr("<yellow>Warning: You now have " .. current_mp .. "/" ..max_mp .." mp.</yellow>")
:       else
:         crawl.mpr("<lightcyan>You now have " .. current_mp .. "/" ..max_mp .." mp.</lightcyan>")
:       end
:     end
:   end
:   --Set previous hp and mp at end of turn
:   previous_hp = current_hp
:   previous_mp = current_mp
: end

####################
# Opens skill menu #
####################
{
local need_skills_opened = true
function OpenSkills()
  if you.turns() == 0 and need_skills_opened then
    need_skills_opened = false
    sendkeys("m")
  end
end
}

#############
# Autofight #
#############

# Do/don't throw stuff when autofighting
autofight_throw = true
autofight_throw_nomove = true
# If true. items are autofired stopping at the monsters feet (same as firing using .)
autofight_fire_stop = true

fire_order  = launcher, return
fire_order += large rock, javelin, tomahawk, dart, stone

# Prevent me from tab-fighting to death by keeping this high
autofight_stop = 60

# Enables automagic attacks
automagic_enable = false
automagic_slot = a
# Percentage of MP to stop automagic at
automagic_stop = 0
# If set to true, resort to melee when automagic_stop is active
automagic_fight = false

##############
# Autopickup #
##############

# Used
# $ = gold
# ? = scroll
# ! = potion
# : = book
# " = jewellery
# / = wand
# % = food
# } = miscellaneous
# \ = rods
# | = staves
autopickup += $?!:"/%}\|

# Unused
# ) = weapon
# ( = missiles
# [ = armour
# X = corpses


# Secondary Armour Auto-Pickup
{
add_autopickup_func(function(item, name)
	if item.class(true) == "armour" then	
		local good_slots = {cloak="Cloak", helmet="Helmet", gloves="Gloves", boots="Boots", shield="Shield"}
		sub_type, _ = item.subtype()
    current_item = items.equipped_at(good_slots[sub_type])
    
		if (good_slots[sub_type] ~= nil) and (current_item == nil) then
			return true 
		end
    
		return false
    
		end	
	end)
}

# Allows easily dropping multiple items
drop_mode += multi
# Always show the full list of items when you pick up a stack
pickup_mode += multi
# Allows followers to pick up ANYTHING (take care not to lose artifacts)
default_friendly_pickup += all

# Set Alias for Autopickup Exceptions
ae := autopickup_exceptions
ae += useless_item, dangerous_item, evil_item

# Dont pickup potion(s) of [coagulated] blood if you are not a vampire
: if you.race() ~= "Vampire" then
	ae += potions? of.*blood
: end

# Autopickup artefacts/o
ae += <artefact
: if you.xl() < 14 then
ae += <ego
: end
ae += <quick blade

# Ammo autopickup 
# Set any of the local variables to false to disable that category
{
	local pickup_arrows = false
  local pickup_bolts = false
  local pickup_stones = false
  local pickup_darts = true
  local pickup_needles = true
  local pickup_tomahawk = true
  local pickup_javelin = true
  local pickup_nets = true
  
	local function init_spells()
		local spell_list = {}
		
		for _, spell_name in ipairs(you.spells()) do
			spell_list[spell_name] = true
		end
	
		return spell_list
	end

	local known_spells = init_spells()	
	
	local function ammo_pickup(item, name)
		if pickup_arrows or known_spells["Sticks to Snakes"] then
      if name:find("arrow") then return true end
		end
    
    if pickup_bolts then
      if name:find("bolt") then return true end
		end
    
		if pickup_stones or known_spells["Sandblast"] then
      if name:find("stone") and not name:find("stone giant") then 
        return true 
      end
		end
    
		if name:find("dart") then
       if pickup_darts or name:find("dispersal") then 
        return true 
      end
		end
		
		if name:find("needle") then
      if pickup_needles or name:find("curare") then
        return true 
      end
		end
		
    if pickup_tomahawk then
			if name:find("tomahawk") then return true end
		end
    
    if name:find("javelin") then
      if pickup_javelin or name:find("returning") then
			  return true 
      end
		end
    
		if pickup_nets then
			if name:find("throwing net") then return true end
		end

		return false
	end

	add_autopickup_func(ammo_pickup)
}

###############
# Spell slots #
###############

# Set Alias for Spell Slots
slot := spell_slot

# Try to keep in aplhabetic order
slot += Shroud:a
slot += Freeze:a
slot += Blink:b
slot += Call Imp:c
slot += Petrify:c
slot += Confuse:c
slot += Control Undead:c
slot += Spider Form:c
slot += Conjure Flame:c
slot += Freezing Aura:c
slot += Repel Missiles:d
slot += Deflect Missiles:d
slot += Lethal Infusion:d
slot += Fireball:f
slot += Fire Brand:f
slot += Apportation:g
slot += Haste:h
slot += Abjuration:q
slot += Regeneration:r
slot += Recall:r
slot += Swiftness:s
slot += Sticky Flame:s
slot += Sticks to Snakes:s
slot += Condensation Shield:s
slot += Slow:s
slot += Song of Slaying:s
slot += Passwall:w
slot += Corona:v
slot += Iskenderun's Mystic Blast:x
slot += Call Canine Familiar:c
slot += Blade Hands:x
slot += Mephitic Cloud:x
slot += Lightning Bolt:x
slot += Stone Arrow:x
slot += Vampiric Draining:x
slot += Throw Icicle:x
slot += Throw Flame:x
slot += Throw Frost:x
slot += Lee's Rapid Deconstruction:z
slot += Iskenderun's Battlesphere:z
slot += Spectral Weapon:z
slot += Ozocubu's Armour:A
slot += Animate Skeleton:A
slot += Animate Dead:A
slot += Stoneskin:A
slot += Summon Butterflies:B
slot += Controlled Blink:B
slot += Control Teleport:C
slot += Death's Door:D
slot += Flight:F
slot += Cure Poison:P
slot += Borgnjor's Revivification:R
slot += Phase Shift:S

################
# Auto Exclude #
################

## paralyzing monsters ##
auto_exclude += [^c] wizard, eyeball, orb of eyes, sphinx, lich, ancient lich, ogre-mage, Norris
auto_exclude += vampire knight, orc sorcerer, Grinder, Rupert, Ereshkigal, Erolcha, Jory

## uniques or dangerous ##
auto_exclude += Roxanne, Sigmund, Hydra, Pikel, slave, Prince Ribbit, Snorg, Ijyb
auto_exclude += Menkaure, Duvessa, Dowan, Blork, Jospeh, jelly, Gastronok, Edmund
auto_exclude += Urug, Harold, Aizul, Erica, Jorgrun, ancienct lich, orb of fire
auto_exclude += Saint Roka, Boris, Mennas, Nessos, Sonja, Agnes, Wiglaf, Fannar, Louise
auto_exclude += Mara, Arachne, Xtahua, Frances, Frederick, ice statue, Polyphemus
auto_exclude += Death drake, Kirke, Hog, Jorgrun, Sojobo, Nergalle, Maud, Eustachio
auto_exclude += Crazy Yiuf, Asterion, Joseph, Terence, Grum, Donald, Natasha

###############
# Auto Travel #
###############

# Set travel delay to -1 for instant-travel, set to 1 to see travel paths
travel_delay = -1

explore_stop = glowing_items,artefacts,greedy_pickup_smart
explore_stop += stairs,shops,altars,portals,branches,runed_doors
explore_stop += greedy_sacrificeable

# Adjusts how much autoexplore favours attempting to discover room perimeters and corners. 
# At values higer than 0, autoexplore will more heavily favour visiting squares that are next to walls
# reasonable values range from 0 to 10 maybe?
explore_wall_bias = 3

# Make auto travel sacrifice corpses
sacrifice_before_explore = true
auto_sacrifice = true

# unless nemelex
#: if you.god() == "Nemelex Xobeh" then
#	sacrifice_before_explore = false
#	auto_sacrifice = false
#: end

# Disables key press from stopping autoexplore
travel_key_stop = false

runrest_ignore_poison = 3:30
runrest_ignore_monster += butterfly:1

trapwalk_safe_hp = dart:15,needle:25,arrow:25,bolt:30,spear:20,axe:40,blade:50

# Only stop resting when both HP/MP are full
rest_wait_both = true

# Set Alias'
stop := runrest_stop_message
ignore := runrest_ignore_message

# Jiyva Messages
: if you.god() == "Jiyva" then
	ignore += Jiyva gurgles merrily
	ignore += Jiyva appreciates your sacrifice
	ignore += Jiyva says: Divide and consume
	ignore += You hear.*splatter
: end

# Annoyances  -- Don't stop autotravel for these events
ignore += You feel.*sick
ignore += disappears in a puff of smoke
ignore += engulfed in a cloud of smoke
ignore += standing in the rain
ignore += engulfed in white fluffiness
ignore += safely over a trap
ignore += A.*toadstool withers and dies
ignore += toadstools? grow
ignore += You walk carefully through the
ignore += grinding sound
ignore += in your inventory.*rotted away

# Bad things -- Stop autotravel for these events
stop += found a zot trap
stop += Wait a moment
stop += You fall through a shaft
stop += An alarm trap emits a blaring wail
stop += (blundered into a|invokes the power of) Zot
stop += hear a soft click
stop += A huge blade swings out and slices into you[^r]
stop += sense of stasis
stop += flesh start
stop += (starving|devoid of blood)
stop += wrath finds you
stop += lose consciousness

# Expiring effects -- Stop autotravel for spells beginning to expire (to allow recasts)
# Haste
stop += You feel yourself slow down
# Flight
stop += You are starting to lose your buoyancy
stop += You lose control over your flight
# Necromutation
stop += Your transformation is almost over
stop += You have a feeling this form
stop += You feel yourself come back to life
# Control Teleport
stop += uncertain
# Deaths Door
stop += time is quickly running out
stop += life is in your own
# Enslavement
stop += is no longer charmed
# Shroud
stop += shroud begins to fray
stop += shroud unravels
# Swiftness
stop += start to feel a little slower
# Repel/Deflect
stop += missiles spell is about to expire

# Ghouls
: if you.race() == "Ghoul" then
	stop += smell.*(rott(ing|en)|decay)
	stop += something tasty in your inventory
: end

# Good things - Bad things wearing off
stop += contamination has completely
stop += You are no longer firmly anchored in space

#ignore += pray:
#ignore += friend_spell:
#ignore += friend_enchant:
#ignore += friend_action:
#ignore += sound:

#################
# Force Prompts #
#################

# Set Alias
more := force_more_message

# Important dungeon features
more += interdimensional caravan
more += distant snort
more += Found a gateway leading out of the Abyss
more += wave of frost
more += roar of battle
more += There is an entrance to a bailey on this level
more += oppresive heat
more += tolling of a bell
more += sound of rushing water
more += Found a frozen archway
more += Found a labyrinth entrance

: if you.god() == "Ashenzari" then
	more += You have a vision of.*gates?
: end

more += Done waiting
more += (The|Your).*falls away!
more += acid corrodes
more += catch(es)? fire
more += freezes? and shatters?
more += cast banishment
more += cast paralyse
more += cast Torment
more += MASSIVE DAMAGE
more += Your body shudders with the violent release of wild energies
more += is duplicated
more += You feel sluggish
more += You are shrouded in an aura of darkness
more += You really shouldn't be using
more += Mutagenic energies flood into your body

# Translocations
more += You.*teleport [^f]
more += You blink
more += Your surroundings suddenly seem different
more += You feel strangely (unstable|stable)

# Wands/Potions/Scrolls/evokes used by monsters
more += zaps a (wand|rod)
more += drinks a potion
more += reads a scroll
more += evokes.*(amulet|ring)

# Abyssal Rune
more += Found .* abyssal rune of Zot

# Dangerous Monsters
more += giant eyeball.*comes? into view
more += silver statue.*comes? into view
more += ironbrand convoker.*comes? into view
more += Lich.*comes? into view
more += The blast of calcifying dust hits you
more += You are engulfed in calcifying dust
more += begins to recite a word of recall
more += You are engulfed in dark miasma
more += swoops through the air toward you
more += orange crystal statue.*comes? into view
more += The ghost moth stares at you
more += You feel you are being watched by something
more += Its appearance distorts for a moment
more += You feel haunted
more += The octopode crusher throws you
more += Mara shimmers
more += There is a horrible\, sudden wrenching feeling in your soul
more += Mara seems to draw the.*out of itself

# Interrupts for unexpected situations
more += The.*shudders
more += Something interferes with your magic
more += You feel a genetic drift
more += You don't.* that spell
more += You fail to use your ability
more += You miscast
more += You cannot teleport right now
more += appears in a shower of sparks
more += It doesn't seem very happy
more += Some monsters swap places
more += This wand has no charges
more += You are held in a net
more += You have disarmed
more += You can't gag anything down
more += You don't have any such object
more += do not work when you're silenced
more += You cannot cast spells when silenced
more += The barbed spikes dig painfully into your body as you move
more += The water nymph flows with the water
more += You can't unwield
more += You don't have enough magic
more += You haven't enough magic at the moment
more += You feel your control is inadequate
more += Your guardian golem overheats
more += You have finished your manual
more += You can't take your gloves off to put on a ring
more += You feel your power leaking away
more += You feel your power drain away
more += Space warps horribly around you
more += Your damage is reflected back at you
more += dark mirror aura disappears
more += Space bends around you
more += The.*grabs you[^r]
more += Your attempt to break free
more += The.*is a mimic
more += The.*offers itself to Yredelemnul
more += You are blown backwards
more += Agitated ravens fly out from beneath the
more += goes berserk
more += are blown away by the wind
more += Your magical defenses are stripped away
more += appears out of thin air
more += You feel less protected from missiles
more += Your body is wracked with pain
more += surroundings become eerily quiet
more += The pull of.*song draws you forwards
more += comes (up|down) the stairs
more += The jumping spider pounces on you [^but]
more += Wisps of shadow swirl around
more += begins to accept its allies' injuries
more += doors? slams? shut
more += The vault warden activates a sealing rune
more += Miasma billows from the
more += You feel.*firmly anchored in space
more += You stumble into the trap
more += You have no appropriate body parts free
more += drinks a potion
more += You stop (a|de)scending the stairs
more += The walls disappear
more += too hungry
more += The spell fizzles
more += Your body armour is too heavy
more += stands defiantly in death's doorway
more += is no longer invulnerable
more += This potion can/'t work under stasis
more += splits in two
more += Kikubaaqudgha will now enhance your necromancy
more += The Shining One will now bless
more += You cannot cast spells while unable to breathe
more += Your fit of retching subsides
more += You are wearing\:
more += The walls and floor vibrate strangely for a moment
more += You feel your flesh start to rot away
more += You sense the presence of something unfriendly

# Interrupts for Bad things
more += Your surroundings flicker
more += You feel yourself grow more vulnerable to poison
more += You feel less vulnerable to poison
more += The poison in your body grows stronger
more += burn any scroll you tried to read
more += Your icy (shield|armour) evaporates
more += Your.*(shield|armour) melts away
more += sense of stasis
more += Your amulet of stasis
more += You smell decay. (^Yuck!)
more += The writing blurs in front of your eyes
more += You fall through a shaft
more += A huge blade swings out and slices into you
more += your magic stops regenerating
more += (blundered into a|invokes the power of) Zot
more += Ouch! That really hurt!
more += dispelling energy hits you
more += You convulse
more += You feel drained
more += You are (blasted|electrocuted)
more += You feel uncertain
more += (You are|You're) poisoned
more += (You are|You're) more poisoned
more += (You are|You're) lethally poisoned
more += (You are|You're) confused
more += (You are|You're) more confused
more += (You are|You're) too confused
more += (starving|devoid of blood)
more += You need to eat something NOW
more += You are engulfed in mutagenic fog
more += wrath finds you
more += lose consciousness
more += You are too injured to fight blindly
more += Green shoots are pushing up through the earth
more += your.*devoured
more += You are drained
more += shoots a curare
more += You feel your attacks grow feeble
more += You are blown backwards by the freezing wind
more += You are knocked back by the lance of force
more += You are knocked back by the blast of cold
more += You are knocked back by the great wave of water
more += You stumble backwards
more += You are trampled
more += Okawaru sends forces against you
more += You are slowing down.
more += You flicker for a moment.
more += You flicker back
more += The.*is unaffected
more += You (become entangled|are caught) in (a|the) (web|net)
more += The arrow of dispersal hits you[^r]
more += The forest starts to sway and rumble
more += Vines fly forth from the trees!
more += A tree reaches out and hits you!
more += You are hit by a branch
more += The.*answers the.*call
more += The air twists around and violently strikes you in flight
more += The.*engulfs you in water
more += The power of Zot is invoked against you
more += The acid corrodes your
more += You feel (dopey|clumsy|weak)
more += The air around.*erupts in flames
more += Terrible wounds (open|spread)
more += You are encased in ice
more += Your.*suddenly stops moving
more += You suddenly stop moving
more += Your surroundings seem slightly different
more += Your resistance to elements expires
more += You feel a (horrible|terrible) chill
more += You are burned terribly
more += You are mesmerised
more += The barbed spikes become lodged in your body
more += mark forms upon you
more += blows on a signal horn
more += The silver sears you
more += The.*seems to speed up
more += steals.*your
more += infuriates you
more += \'s.*reflects
more += You cannot afford.*fee
more += You can move again
more += You slip out of the net
more += You.*and break free
more += You feel your flesh rotting away
more += You feel your translocation being delayed
more += There is a sealed passage
more += Something appears in a flash of light
more += You feel your rage building
more += You turn into a fleshy mushroom
more += staircase.*moves from beneath you

# Interrupts for Hell effects
more += You will not leave this place
more += Die\, mortal
more += We do not forgive those who trespass against us
more += Trespassers are not welcome here
more += You do not belong in this place
more += Leave now\, before it is too late
more += We have you now
more += You smell brimstone
more += Brimstone rains from above
more += You feel lost and a long\, long way from home
more += You shiver with fear
more += You feel a terrible foreboding
more += Something frightening happens
more += You sense an ancient evil watching you
more += You suddenly feel all small and vulnerable
more += You sense a hostile presence
more += A gut-wrenching scream fills the air
more += You hear words spoken in a strange and terrible language
more += You hear diabolical laughter

# Interrupts for Expiring spell effects
more += You feel yourself slow down
more += You are starting to lose your buoyancy
more += Your hearing returns
more += Your transformation is almost over
more += Your skin feels tender
more += You have a feeling this form
more += You feel yourself come back to life
more += time is quickly running out
more += life is in your own
more += is no longer charmed
more += Your shroud falls apart
more += Your extra speed is starting to run out
more += Your skin stops crawling
more += You are firmly grounded in the material plane once more

# Uniques
more += 27-headed.*(comes? into view|opens the)
more += Agnes.*(comes? into view|opens the)
more += Aizul.*(comes? into view|opens the)
more += Antaeus.*(comes? into view|opens the)
more += Arachne.*(comes? into view|opens the)
more += Asmodeus.*(comes? into view|opens the)
more += Asterion.*(comes? into view|opens the)
more += Azrael.*(comes? into view|opens the)
more += Blork the orc.*(comes? into view|opens the)
more += Boris.*(comes? into view|opens the)
more += Cerebov.*(comes? into view|opens the)
more += Crazy Yiuf.*(comes? into view|opens the)
more += Dispater.*(comes? into view|opens the)
more += Dissolution.*(comes? into view|opens the)
more += Donald.*(comes? into view|opens the)
more += Dowan.*(comes? into view|opens the)
more += Duvessa.*(comes? into view|opens the)
more += Edmund.*(comes? into view|opens the)
more += Ereshkigal.*(comes? into view|opens the)
more += Erica.*(comes? into view|opens the)
more += Erolcha.*(comes? into view|opens the)
more += Eustachio.*(comes? into view|opens the)
more += Fannar.*(comes? into view|opens the)
more += Frances.*(comes? into view|opens the)
more += Francis.*(comes? into view|opens the)
more += Frederick.*(comes? into view|opens the)
more += Gastronok.*(comes? into view|opens the)
more += Geryon.*(comes? into view|opens the)
more += Gloorx Vloq.*(comes? into view|opens the)
more += Grinder.*(comes? into view|opens the)
more += Grum.*(comes? into view|opens the)
more += Harold.*(comes? into view|opens the)
more += Ignacio.*(comes? into view|opens the)
more += Ijyb.*(comes? into view|opens the)
more += Ilsuiw.*(comes? into view|opens the)
more += Jessica.*(comes? into view|opens the)
more += Jory.*(comes? into view|opens the)
more += Joseph.*(comes? into view|opens the)
more += Josephine.*(comes? into view|opens the)
more += Jozef.*(comes? into view|opens the)
more += Khufu.*(comes? into view|opens the)
more += Kirke.*(comes? into view|opens the)
more += Lamia.*(comes? into view|opens the)
more += Lom Lobon.*(comes? into view|opens the)
more += Louise.*(comes? into view|opens the)
more += Mara.*(comes? into view|opens the)
more += Margery.*(comes? into view|opens the)
more += Maud.*(comes? into view|opens the)
more += Maurice.*(comes? into view|opens the)
more += Menkaure.*(comes? into view|opens the)
more += Mennas.*(comes? into view|opens the)
more += Mnoleg.*(comes? into view|opens the)
more += Murray.*(comes? into view|opens the)
more += Natasha.*(comes? into view|opens the)
more += Nergalle.*(comes? into view|opens the)
more += Nessos.*(comes? into view|opens the)
more += Nikola.*(comes? into view|opens the)
more += Norris.*(comes? into view|opens the)
more += Pikel.*(comes? into view|opens the)
more += Polyphemus.*(comes? into view|opens the)
more += Prince Ribbit.*(comes? into view|opens the)
more += Psyche.*(comes? into view|opens the)
more += Purgy.*(comes? into view|opens the)
more += Roxanne.*(comes? into view|opens the)
more += Rupert.*(comes? into view|opens the)
more += Saint Roka.*(comes? into view|opens the)
more += Sigmund.*(comes? into view|opens the)
more += Snorg.*(comes? into view|opens the)
more += Sojobo.*(comes? into view|opens the)
more += Sonja.*(comes? into view|opens the)
more += Terence.*(comes? into view|opens the)
more += The Lernaean hydra.*(comes? into view|opens the)
more += The royal jelly.*(comes? into view|opens the)
more += The Serpent of Hell.*(comes? into view|opens the)
more += Tiamat.*(comes? into view|opens the)
more += Urug.*(comes? into view|opens the)
more += Vashnia.*(comes? into view|opens the)
more += Wiglaf.*(comes? into view|opens the)
more += Xtahua.*(comes? into view|opens the)
more += 's ghost.*(comes? into view|opens the)
more += A player ghost.*(comes? into view|opens the)
more += shadow demons?.*(comes? into view|opens the)
more += boggarts?.*(comes? into view|opens the)
more += giant orange brains?.*(comes? into view|opens the)

# Others
more += You have reached level
more += Your scales start
more += You can now
more += You now sometimes bleed smoke
more += You can no longer
more += Your.*can no longer
more += The rod doesn't have enough magic points
more += You feel monstrous
more += Jiyva alters your body
: if you.god() == "Xom" then
	more += god:
: end

#############
# Interface #
#############

allow_self_target = prompt
easy_confirm = safe
confirm_butcher = never
easy_eat_chunks = true
auto_eat_chunks = true
auto_drop_chunks = yes
easy_eat_contaminated = true
equip_unequip = true

#hp_warning = 25
#mp_warning = 25
hp_colour = 100:green, 99:lightgray, 75:yellow, 50:lightred, 25:red
mp_colour = 100:green, 99:lightgray, 75:yellow, 50:lightred, 25:red
stat_colour = 3:red, 7:lightred
# Removes the more prompts when outputting more than one screen of messages
show_more = false
small_more = true
# Changes the turn display to show player turns (used for scoring)
show_game_turns = false

msg_min_height=7
msg_max_height=10

default_manual_training = true

####################
# Message coloring #
####################

# black, blue, green, cyan, red, magenta, brown, lightgrey,
# darkgrey, lightblue, lightgreen, lightcyan, lightred,
# lightmagenta, yellow, white

# Standard colours to be used for message highlighting
$danger   := lightred
$item_dmg := red
$warning  := yellow
$boring   := darkgrey
$negative := brown
$good     := lightblue
$positive := green
$verypositive := lightgreen
$awesome := lightmagenta
$interface := cyan
$takesaction := blue
$godaction := magenta

#channel.floor = darkgrey

# Set Alias
msc := message_colour
# Clear defaults
msc =

msc += white:You feel blessed for a moment

#msc += $danger:
msc += $danger:You are contaminated with residual magics
msc += $danger:is duplicated
msc += $danger:You sense a malign presence
msc += $danger:The deck only has
msc += $danger:blocks your orb of destruction
msc += $danger:There are no remains here to animate
msc += $danger:Your ring of flames gutters out
msc += $danger:The elephant guardians awaken
msc += $danger:slides away
msc += $danger:A powerful magic prevents control of your teleportation
msc += $danger:There's only.*cards? left!
msc += $danger:Your body twists and deforms
msc += $danger:A huge vortex of air appears
msc += $danger:you're silenced
msc += $danger:Your hands slow down
msc += $danger:Your shroud falls apart
msc += $danger:Not with that terrain in the way
msc += $danger:Your teleport is interrupted
msc += $danger:Your hands revert to their normal proportions
msc += $danger:Its appearance distorts for a moment
msc += $danger:A shaft opens up in the floor
msc += $danger:You are held in a net
msc += $danger:(The|Your).*falls away!
msc += $danger:The orbs collide in a blinding explosion
msc += $danger:You feel the power of the Abyss delaying your translocation
msc += $danger:Mara shimmers
msc += $danger:Your spellforged servitor is blown up
msc += $danger:Mutagenic energies flood into your body
msc += $danger:seems to grow more fierce
msc += $danger:attacks!
msc += $danger:You sense the presence of something unfriendly
msc += $danger:Your.*falls into the water
msc += $danger:Something unseen opens the huge gate
msc += $danger:changes into something you cannot see
msc += $danger:The rod doesn't have enough magic points
msc += $danger:The power of the Abyss keeps you in your place
msc += $danger:Your.*is destroyed
msc += $danger:You feel your control is inadequate
msc += $danger:A great vortex of raging winds appears
msc += $danger:You blow up your
msc += $danger:The sixfirhy seems to be charged up
msc += $danger:You feel your body twist and deform
msc += $danger:You feel your power drain away
msc += $danger:You cannot cast spells when silenced
msc += $danger:You feel hot and cold all over
msc += $danger:You don't have the energy to cast that spell
msc += $danger:and don't expect to remain undetected
msc += $danger:but the box appears empty
msc += $danger:your gold pieces vanish
msc += $danger:Your.*dies
msc += $danger:You cannot teleport right now
msc += $danger:You feel your power drawn to a protective spirit
msc += $danger:your magic stops regenerating
msc += $danger:Some monsters swap places
msc += $danger:You turn into a spiny porcupine
msc += $danger:Your limbs have turned to stone
msc += $danger:Your skin feels tender
msc += $danger:You turn into a fleshy mushroom
msc += $danger:The sound of falling rocks suddenly begins to subside
msc += $danger:The walls and floor vibrate strangely for a moment
msc += $danger:Your.*(shield|armour) melts away
msc += $danger:drains you
msc += $danger:You need to eat something NOW
msc += $danger:feel drained
msc += $danger:strangely unstable
msc += $danger:curare-tipped.*hits you
msc += $danger:Space warps.* around you
msc += $danger:Space bends around you
msc += $danger:Space bends sharply around you!
msc += $danger:sense of stasis
msc += $danger:clumsily bash
msc += $danger:goes berserk
msc += $danger:Forgetting.* will destroy the book
msc += $danger:The blast of calcifying dust hits you
msc += $danger:You are engulfed in calcifying dust
msc += $danger:^It .* you
msc += $danger:[^f]Something.*you[^r]
msc += $danger:grabs you[^r]
msc += $danger:you convulse
msc += $danger:is unaffected
msc += $danger:blinks into view
msc += $danger:seems to speed up
msc += $danger:You feel yourself slow down
msc += $danger:The alarm trap emits a blaring wail
msc += $danger:The mark upon you grows brighter.
msc += $danger:flickers (and vanishes|out of sight)
msc += $danger:Terrible wounds (open|spread)
msc += $danger:The acid burns
msc += $danger:The.*is recalled
msc += $danger:The.*blows on a signal horn!
msc += $danger:You miscast
msc += $danger:zaps a wand
msc += $danger:You are no longer berserk
msc += $danger:The giant eyeball stares at you
msc += $danger:You suddenly lose the ability to move
msc += $danger:Your.*glows black for a moment
msc += $danger:You are caught in a web
msc += $danger:You are knocked back by the lance of force
msc += $danger:You are knocked back by the blast of cold
msc += $danger:You are knocked back by the great wave of water
msc += $danger:You feel very sick
msc += $danger:Your.*falls away
msc += $danger:splits in two
msc += $danger:The lost soul (assumes the form|sacrifices itself)
msc += $danger:Necromantic energies
msc += $danger:You feel an extremely numb sensation
msc += $danger:You feel jittery for a moment
msc += $danger:You are caught in (a|the) (web|net)
msc += $danger:You become entanged in (a|the) (web|net)
msc += $danger:You fall asleep
msc += $danger:The forest starts to sway and rumble
msc += $danger:Vines fly forth from the trees!
msc += $danger:Roots grasp at your
msc += $danger:Roots rise up from beneath you and drag you back to the ground
msc += $danger:The.*picks up a wand
msc += $danger:You struggle against (a|the) (net|web)
msc += $danger:You struggle to escape the net
msc += $danger:The.*engulfs you in water
msc += $danger:Your magical defenses are stripped away
msc += $danger:appears out of thin air
msc += $danger:You feel less protected from missiles
msc += $danger:The power of Zot is invoked against you
msc += $danger:you fail to dodge
msc += $danger:Death has come for you
msc += $danger:Your body is wracked with pain
msc += $danger:You really shouldn't be using
msc += $danger:You sense an overwhelmingly malignant aura
msc += $danger:Space twists in upon itself
msc += $danger:Strange energies course through your body
msc += $danger:You feel haunted
msc += $danger:Your.*suddenly stops moving
msc += $danger:You feel incredibly sick
msc += $danger:You don't have enough magic
msc += $danger:You haven't enough magic at the moment
msc += $danger:You fall through a shaft
msc += $danger:seems to grow stronger
msc += $danger:You die.
msc += $danger:Dowan seems to find hidden reserves of power
msc += $danger:Oops, that.*feels deathly cold
msc += $danger:You struggle to resist
msc += $danger:You barely resist
msc += $danger:You turn into an animated tree
msc += $danger:Your roots penetrate the ground
msc += $danger:is no longer charmed
msc += $danger:You try to slip out of the net
msc += $danger:You become entangled in the net
msc += $danger:You feel a build-up of mutagenic energy
msc += $danger:You cannot pacify this monster 
msc += $danger:You feel a (horrible|terrible) chill
msc += $danger:You are burned terribly
msc += $danger:The moth of wrath goads
msc += $danger:you trip and fall back down the stairs
msc += $danger:the glow from your corona prevents you from becoming completely invisible
msc += $danger:A red film seems to cover your vision as you go berserk
msc += $danger:Your limbs are stiffening
msc += $danger:You have turned to stone
msc += $danger:Draining that being is not a good idea
msc += $danger:You feel.*ill
msc += $danger:You can't gag anything down
msc += $danger:Something feeds on your intellect
msc += $danger:The barbed spikes become lodged in your body
msc += $danger:You feel your translocation being delayed
msc += $danger:You fail to use your ability
msc += $danger:Oh no! You have blundered into a Zot trap
msc += $danger:Wisps of shadow swirl around
msc += $danger:The.*grows two more
msc += $danger:There is a sealed passage
msc += $danger:doors? slams? shut
msc += $danger:A basket of spiders falls from above
msc += $danger:is bolstered by the flame
msc ^= $danger:Mennas' surroundings become eerily quiet
msc += $danger:attempts to bespell you
msc += $danger:You feel horribly lethargic
msc += $danger:firmly anchored in space
msc += $danger:You stop (a|de)scending the stairs
msc += $danger:You tear a large gash into the net
msc += $danger:reflects
msc += $danger:The walls disappear
msc += $danger:You cannot afford.*fee
msc += $danger:This weapon is already enchanted
msc += $danger:You feel.*sluggish
msc += $danger:You are engulfed in mutagenic fog
msc += $danger:You feel extremely strange
msc += $danger:You feel the urge to shout
msc += $danger:This meat tastes really weird
msc += $danger:Your vision blurs
msc += $danger:You finish putting on your cursed
msc += $danger:It was a potion of paralysis
msc += $danger:You feel frail
msc += $danger:You feel rather ponderous
msc += $danger:That seemed strangely inert
msc += $danger:You can't unwield your weapon to draw a new one
msc += $danger:the volcano erupts with a roar
msc += $danger:too hungry
msc += $danger:the book crumbles to dust
msc += $danger:Your guardian golem overheats
msc += $danger:burn any scroll you tried to read
msc += $danger:evokes.*(amulet|ring)
msc += $danger:take too long for a potion to reach your roots
msc += $danger:There was something very wrong with that liquid
msc += $danger:You cannot move
msc += $danger:stands defiantly in death's doorway
msc += $danger:zaps a rod
msc += $danger:twongs alarmingly
msc += $danger:You feel yourself grow more vulnerable to poison
msc += $danger:The poison in your body grows stronger
msc += $danger:You are being crushed by all of your possessions
msc += $danger:You are carrying too much
msc += $danger:You draw Wild Magic
msc += $danger:You draw the Helix
msc += $danger:This potion can/'t work under stasis
msc += $danger:Your icy (shield|armour) evaporates
msc += $danger:You struggle to detach yourself from the web
msc += $danger:You are more confused
msc += $danger:You are confused
msc += $danger:breaks free
msc += $danger:(You are|You're) too confused
msc += $danger:Your skin stops crawling
msc += $danger:Your attempt to break free
msc += $danger:Your resistance to elements expires
msc += $danger:You are blasted by holy energy
msc += $danger:You feel uncertain
msc += $danger:You are firmly grounded in the material plane once more
msc += $danger:The writing blurs in front of your eyes
msc += $danger:Your thinking seems confused
msc += $danger:You cannot cast spells while unable to breathe
msc += $danger:You feel your rage building
msc += $danger:You feel a little less
msc += $danger:You are wearing\:.*cursed
msc += $danger:This card doesn't seem to belong here
msc += $danger:You flicker back
msc += $danger:something.*blocking the
msc += $danger:You slice into (a|the) (net|web)
msc += $danger:It doesn't seem very happy
msc += $danger:You have been turned into a pig
msc += $danger:comes? into view
msc += $danger:You feel quite a bit less full
msc += $danger:Your unstable footing causes you to fumble your attack
msc += $danger:You are being weighed down by all of your possessions
msc += $danger:flinch away in fear
msc += $danger:is completely unfazed by your meager offer of peace
msc += $danger:deflects the
msc += $danger:The blink frog basks in the distortional energy
msc += $danger:appears unharmed
msc += $danger:You have lost your religion
msc += $danger:Your shroud unravels
msc += $danger:Your attacks are no longer magically infused
msc += $danger:You feel your attacks grow feeble
msc += $danger:Magical energy is drained from your
msc += $danger:A chorus of chattering voices calls out to you
msc += $danger:You can no longer
msc += $danger:The.*shudders
msc += $danger:Your transformation has ended
msc += $danger:Nothing appears to have answered your call
msc += $danger:The grasping roots prevent you from becoming airborne
msc += $danger:You kill your
msc += $danger:You feel less regenerative
msc += $danger:Lernaean hydra knocks down a tree
msc += $danger:bends your attack away
msc += $danger:Your song has ended
msc += $danger:goes into a battle-frenzy
msc += $danger:Your aura of abjuration expires
msc += $danger:Your.*is blown up
msc += $danger:There's only one card left
msc += $danger:You deal a card
msc += $danger:darts out from under the net
msc += $danger:You wield the.*\'s
msc += $danger:dips into the water\, and the flames go out
msc += $danger:You destroy your
msc += $danger:You're too exhausted to jump
msc += $danger:You lose concentration completely
msc += $danger:go into a battle-frenzy
msc += $danger:You can't jump while in water
msc += $danger:You are heavily infused with residual magics
msc += $danger:staircase.*moves from beneath you
msc += $danger:You wield
msc += $danger:is filled with.*inner flame
msc += $danger:You feel guilty
msc += $danger:You no longer feel (cold|heat) resistant
msc += $danger:You feel less (heat|cold) resistant
msc += $danger:You feel vulnerable to (heat|cold)
msc += $danger:You feel less resistant to poisons
msc += $danger:You no longer feel resistant to poison
msc += $danger:picks up.*throwing net

#msc += $item_dmg:
msc += $item_dmg:acid corrodes
msc += $item_dmg:catch(es)? fire
msc ^= $item_dmg:freezes? and shatters?
msc += $item_dmg:covered with spores
msc += $item_dmg:devours some of your food
msc += $item_dmg:rots? away
msc += $item_dmg:It has a very clean taste
msc += $item_dmg:It was a potion of cure mutation
msc += $item_dmg:You feel your flesh rotting away
msc += $item_dmg:You are engulfed in dark miasma
msc += $item_dmg:You feel very guilty
msc += $item_dmg:Done waiting
msc += $item_dmg:That really hurt
msc += $item_dmg:You fall into the water
msc += $item_dmg:PTOANNNG
msc += $item_dmg:PANG
msc += $item_dmg:GONNNNG
msc += $item_dmg:BOUMMMMG
msc += $item_dmg:SHROANNG
msc += $item_dmg:BONNNG
msc ^= $item_dmg:This attack would place you under penance
msc += $item_dmg:You will pay for your transgression\, mortal
msc ^= $item_dmg:picks up.*(scrolls?|potions?|wand)
msc += $item_dmg:drinks a potion
msc += $item_dmg:You hear a zap
msc += $item_dmg:reads a scroll

#msc += $warning:
msc += $warning:You stop recalling your allies
msc += $warning:You feel a little guilty
msc += $warning:snaps.*out of.*fear
msc += $warning:Your stasis keeps you stable
msc += $warning:You retract your mandibles
msc += $warning:The boots cling to your feet
msc ^= $warning:Your ring of flames is guttering out
msc += $warning:reforms as a
msc += $warning:You draw the first five cards.*and discard the rest
msc += $warning:You have damaged your brain
msc += $warning:A thin mist springs up around you
msc += $warning:The mangrove smolders and burns
msc += $warning:You feel your anger subside
msc += $warning:You feel nervous for a moment
msc += $warning:Your.*is burned terribly
msc += $warning:Your.*is frozen
msc += $warning:There is nothing there\, so you fail to move
msc += $warning:You enter the passage of Golubria
msc += $warning:You start to feel a little slower
msc += $warning:drowns your?
msc += $warning:puts on a
msc += $warning:Faint laughter comes from somewhere
msc += $warning:shadowy figures dance through the air in front of you
msc += $warning:This room is filled with shadowy figures
msc += $warning:You feel spirits watching over you
msc += $warning:You feel a genetic drift
msc += $warning:You return to the normal time flow
msc += $warning:reappears nearby
msc += $warning:I'll put it outside for you
msc += $warning:A pair of horns grows on your head
msc += $warning:is held in a (net|web)
msc += $warning:Smoke pours forth from your.*of chaos
msc += $warning:You cannot go berserk while under stasis
msc += $warning:You feel less woody
msc += $warning:is no longer paralysed
msc += $warning:The antennae on your head shrink away
msc += $warning:You feel less stealthy
msc += $warning:falls into the lava
msc ^= $warning:Your spellforged servitor disappears
msc += $warning:This weapon is vampiric, and you must be Full or above to equip it
msc += $warning:The shock serpent's electric aura discharges
msc += $warning:The air sparks with electricity
msc += $warning:The film of ice won't work on stone
msc += $warning:The cursed.*is stuck to you
msc += $warning:You cannot enchant this weapon
msc += $warning:You sense an evil presence
msc += $warning:Jory draws you further into his thrall
msc += $warning:grabs your
msc += $warning:You shudder from the earth-shattering force
msc += $warning:Smoke pours from your
msc += $warning:curses noisily
msc += $warning:is no longer blind
msc += $warning:Lightning arcs down from a storm cloud
msc += $warning:You feel strangely numb
msc += $warning:You feel less sure on your feet
msc += $warning:The air around you crackles with electrical energy
msc += $warning:The vortex of raging winds lifts you up
msc += $warning:shimmers and seems to become two
msc += $warning:Your ball lightning explodes
msc += $warning:There is a sudden explosion of flames
msc += $warning:You feel extremely nervous for a moment
msc += $warning:The orb fizzles
msc += $warning:A film of ice covers the
msc += $warning:That ambrosia tasted strange
msc += $warning:orb of destruction hits.*wall
msc += $warning:Something tries to affect you
msc += $warning:You block its attack
msc += $warning:A large net falls down
msc += $warning:You have made a black mistake
msc += $warning:You are stuck in your current form
msc += $warning:You feel like a pig
msc += $warning:Your hearing returns
msc += $warning:You feel less in control of your magic
msc += $warning:You feel your magical power running wild
msc += $warning:are frozen
msc += $warning:Something hits you but does no damage
msc += $warning:You turn into a bat
msc += $warning:A demon appears
msc += $warning:twists and deforms
msc += $warning:There is a sudden blast of acid
msc += $warning:Die\, mortal
msc += $warning:You choke on the stench
msc += $warning:Your summoned allies are left behind
msc += $warning:You feel that your aim is more steady
msc += $warning:There's a creature in the
msc += $warning:They are\:
msc += $warning:A card falls out of the deck
msc += $warning:(dart|tomahawk|javelin|large rock|stone) disappears in a puff of smoke
msc += $warning:You can't close doors while held in a net
msc += $warning:A slime creature suddenly
msc += $warning:You feel closer to the material plane
msc += $warning:leaps out from its hiding place
msc += $warning:The cursed.*is stuck to your body
msc += $warning:You stop removing your armour
msc += $warning:You smell decay
msc += $warning:You feel a malignant aura surround you
msc += $warning:briefly surrounded by a scintillating aura of random colours
msc += $warning:looks stronger
msc += $warning:You have difficulty breathing
msc += $warning:The heat melts your.*(armour|shield)
msc += $warning:You are engulfed in a cloud of spores
msc += $warning:You feel less perceptive
msc += $warning:A profound silence engulfs you
msc += $warning:An unnatural silence engulfs you
msc ^= $warning:Hurry and find it before the entrance collapses
msc += $warning:Your memory of.*unravels
msc += $warning:You speak a Word of immense power
msc += $warning:seems to move somewhat quicker
msc += $warning:steals.*your
msc += $warning:A tentacle flies out from the starspawn's body
msc += $warning:The explosive bolt releases an explosion
msc += $warning:There is a Zot trap here
msc += $warning:You enter a teleport trap
msc += $warning:You need to enable at least one skill for training
msc += $warning:You (resume|stop) training
msc += $warning:You feel slightly jumpy
msc += $warning:You are splashed with acid
msc += $warning:ticking.*clock
msc += $warning:dying ticks
msc += $warning:distant snort
msc += $warning:odd grinding sound
msc += $warning:creaking of ancient gears
msc += $warning:floor suddenly vibrates
msc += $warning:a sudden draft
msc += $warning:coins.*counted
msc += $warning:tolling.*bell
msc += $warning:fails to return
msc += $warning:Something appears in a flash of light
msc += $warning:you turn into a fiery being
msc += $warning:no longer ripe
msc += $warning:The wave splashes down
msc += $warning:The spell fizzles
msc += $warning:Your body armour is too heavy
msc += $warning:The crackling of melting ice is subsiding rapidly
msc += $warning:seems to gain new vigour
msc += $warning:You feel strangely stable
msc += $warning:(recites|explains|preaches|embarks|launches|threatens|murmurs|breathes|mutters|prattles)
msc += $warning:(shout|hisses|gurgles|screeches|barks|cheers|buzzes|grunts|makes a sound|complains|giggles)
msc += $warning:(shriek|roars|says|moans|brags|keens|mumbles|wails|croak|screams|chants|Floosh|trumpets)
msc += $warning:(gibbers|growls|whisper|wail|asks|sighs|laughs|yells|cries|caws|queries|sneers|groans|grumbles)
msc += $warning:(jeers|bellows|chilling moan|scowls|sings|whimpers|cackles|mewls|snorts|grits|snarls|calls)
msc += $warning:(pleads|curses loudly|utters an oath|boasts)
msc += $warning:imitates the bagpipes
msc += $warning:looks more energetic
msc += $warning:suddenly curses
msc += $warning:Dowan breathes
msc += $warning:Dowan shakes his head\, saying\, \"No\, no\, no!\"
msc += $warning:You hear
msc += $warning:You drop
msc += $warning:seems more stable
msc += $warning:opens the (door|gate|large door)
msc += $warning:dissolves into sparkling lights
msc += $warning:[^un]wields
msc += $warning:There is a portal leading out of here
msc += $warning:Natasha's spirit plunges in to the ground
msc += $warning:Natasha's spirit rises from its lifeless body
msc += $warning:wears
msc += $warning:You are.*contaminated
msc += $warning:blinks
msc += $warning:You are starting to lose your buoyancy
msc += $warning:You float gracefully downwards
msc += $warning:Your surroundings suddenly seem different
msc += $warning:You feel your bond with your spectral weapon wane
msc += $warning:It (begins to drip with poison|bursts into flame|glows with a cold blue light|stops glowing|softly glows with a divine radiance)
msc += $warning:You sense an unholy aura
msc += $warning:It is covered in frost
msc += $warning:Your spectral weapon fades away
msc += $warning:The shock serpent begins to gather electrical charge
msc += $warning:moves out of view
msc += $warning:basks in the mutagenic energy
msc += $warning:Flickering shadows surround you
msc += $warning:You found a.*trap
msc += $warning:You.*one of the.*heads off
msc += $warning:slime creatures merge
msc += $warning:roars a battle-cry
msc += $warning:The.*is healed
msc += $warning:You stumble backwards
msc += $warning:Are you sure you want to stumble around while confused
msc += $warning:it creaks loudly
msc += $warning:The.*explodes
msc += $warning:You are caught in (a fiery explosion|an explosion of ice and frost)
msc += $warning:stops burning
msc += $warning:(The |.*)is healed
msc += $warning:You stop butchering
msc += $warning:You feel less studious
msc += $warning:(macabre mass|corpses?) merges with
msc += $warning:You start to feel a little uncertain
msc += $warning:corpses? begins to drag
msc += $warning:corpses meld into an agglomeration of writhing flesh
msc += $warning:beckons forth a restless soul
msc += $warning:Something reaches out for you
msc += $warning:Something tries to feed on your intellect
msc += $warning:You feel a brief urge to hack something to bits
msc += $warning:Pain shudders through your
msc += $warning:The.*passes through your shield
msc += $warning:draws strength from your injuries
msc += $warning:The.*pierces through
msc += $warning:The forest fire spreads
msc += $warning:The tree burns like a torch
msc += $warning:magical defenses are stripped away
msc += $warning:You blink
msc += $warning:You teleport
msc += $warning:You step into.*shadow
msc += $warning:Grasping roots rise from the ground around the
msc += $warning:The winds start to flow at the.*will
msc += $warning:The .*(are|is) blown away
msc += $warning:goes into a frenzy at the smell of blood
msc += $warning:Something picks up
msc += $warning:You smell burning wood
msc += $warning:stumbles backwards
msc += $warning:looks slightly unstable
msc += $warning:slips into darkness
msc += $warning:The air around.*erupts in flames
msc += $warning:hops backward while attacking
msc += $warning:violent explosion of flames
msc += $warning:turns its malign attention towards you
msc += $warning:Splash!
msc += $warning:Harold gasps with his last breath
msc += $warning:You enter the shallow water
msc += $warning:You see a puff of smoke
msc += $warning:pour from your
msc += $warning:Tentacles burst out of the water
msc += $warning:calls forth a grand avatar
msc += $warning:begins absorbing vital energies
msc += $warning:focuses on the pain
msc += $warning:suddenly seems more agile
msc += $warning:regenerates before your eyes
msc += $warning:You feel corrupt for a moment
msc += $warning:Send 'em back where they came from
msc += $warning:The net rips apart
msc += $warning:Your surroundings seem slightly different
msc += $warning:You are under the weather
msc += $warning:You are standing in the rain
msc += $warning:The rain has left you waist-deep in water
msc += $warning:We do not forgive those who trespass against us
msc += $warning:A.*appears from out of thin air
msc += $warning:looks more healthy
msc += $warning:A mysterious force pulls you upwards
msc += $warning:punctures the fabric of the universe
msc += $warning:degenerates into a cloud
msc += $warning:wounds heal themselves
msc += $warning:is no longer moving slowly 
msc += $warning:is completely healed
msc += $warning:You heal
msc += $warning:It is briefly surrounded by a scintillating aura of random colours
msc += $warning:Partly explored
msc += $warning:There is a shaft here
msc += $warning:Dowan seems overcome with grief, but rights himself reflexively soon after
msc += $warning:You feel that this wand is rather unreliable
msc += $warning:You feel less protected
msc += $warning:You hear a crashing sound
msc += $warning:shatters
msc += $warning:apparitions take form around you
msc += $warning:You feel your magic capacity is already quite full
msc += $warning:You feel vulnerable
msc += $warning:pulls away from the web
msc += $warning:withdraws into its
msc += $warning:is no longer petrified
msc += $warning:You remove
msc += $warning:Your.*dissolves into shadows
msc += $warning:Your.*stops moving altogether
msc += $warning:hides itself under the floor
msc += $warning:puts on a burst of speed
msc += $warning:decay slows
msc += $warning:Your.*is caught in
msc += $warning:Thorny briars emerge from the ground!
msc += $warning:You flicker for a moment
msc += $warning:There is a.*altar.*here
msc += $warning:You kneel at the altar
msc += $warning:You start to feel less resistant
msc += $warning:You feel a strong urge to attack something
msc += $warning:You cannot move away from
msc += $warning:The pull of.*song draws you forwards
msc += $warning:Shadowy forms rise from the deep
msc += $warning:You feel as though you will be slow longer
msc += $warning:disappears!
msc += $warning:Your.*is no longer moving quickly
msc += $warning:You feel your magic capacity decrease
msc += $warning:drains the heat from the surrounding environment
msc += $warning:pounces on you
msc += $warning:A tentacle rises from the water
msc += $warning:comes (up|down) the stairs
msc += $warning:You catch a bit of a chill
msc += $warning:A ballistomycete grows in the wake of the spore
msc += $warning:A fungus suddenly grows
msc += $warning:A toadstool grows
msc += $warning:then quickly surges around you
msc += $warning:A fierce wind blows
msc += $warning:There is a sudden explosion of frost
msc += $warning:That was not very filling
msc += $warning:You failed to disarm the trap
msc += $warning:is covered with a thin layer of ice
msc += $warning:draws out.*weapon's spirit
msc += $warning:You are pushed out
msc ^= $warning:Your.*seems to slow down
msc += $warning:thirsts for the lives of mortals
msc += $warning:emits a brilliant flash of light
msc += $warning:is firebranded into
msc += $warning:is no longer bleeding
msc += $warning:The dungeon rumbles around Jorgrun!
msc += $warning:evaporates and reforms as
msc += $warning:You turn into a venomous arachnid creature
msc += $warning:infuriates you
msc += $warning:Your extra speed is starting to run out
msc += $warning:Your skin is crawling a little less now
msc += $warning:You stumble into the trap
msc += $warning:A raging storm of fire appears
msc += $warning:Your transformation is almost over
msc += $warning:You feel magic leave you
msc += $warning:You feel magic returning to you
msc += $warning:Your (horns|talons) disappear
msc += $warning:Tentacles burst from the starspawn
msc += $warning:you must find a gate leading back
msc += $warning:You fall off the wall
msc += $warning:Blech - you need (greens|meat)
msc += $warning:A starcursed mass splits
msc += $warning:You draw the Sage
msc += $warning:You feel a wave of frost pass over you
msc += $warning:The creatures around you are filled with an inner flame
msc += $warning:is filled with an inner flame
msc += $warning:Your battlesphere expends the last of its energy and dissipates
msc += $warning:You feel less healthy
msc += $warning:summons a great blast of wind
msc += $warning:Your battlesphere wavers and loses cohesion
msc += $warning:You feel your bond with your battlesphere wane
msc += $warning:You feel less resistant to hostile enchantments
msc += $warning:Your attack snaps.*out of its fear
msc += $warning:You feel blessed for a momento
msc += $warning:You draw a card
msc += $warning:Walls emerge from the floor
msc += $warning:You feel like more of a target
msc += $warning:is knocked back by the flood of elemental water
msc += $warning:blown away by the wind
msc += $warning:is surrounded by Orcish apparitions
msc += $warning:The.*reappears nearby
msc += $warning:The deck of cards disappears
msc += $warning:The.*looks more experienced
msc += $warning:There is a rocky tunnel leading out of this place here
msc += $warning:Your icy (shield|armour) starts to melt
msc += $warning:Your legs become a tail
msc += $warning:You feel the effects of Trog's Hand fading
msc += $warning:You slam the door shut with a bang
msc += $warning:This armour is.*for you
msc += $warning:magical effects unravel
msc += $warning:You awkwardly throw
msc += $warning:You erupt
msc += $warning:Nergalle is no longer invulnerable
msc += $warning:The flames covering.*go out
msc += $warning:bleats in terror
msc += $warning:seems to regain its courage
msc += $warning:You have a feeling of ineptitude
msc += $warning:falls through a shaft
msc += $warning:You cannot throw anything while held in a net
msc += $warning:furiously retaliates
msc += $warning:The blast of chaos engulfs your?
msc += $warning:You are engulfed in seething chaos
msc += $warning:Your song is almost over
msc += $warning:is in the way
msc += $warning:You are too berserk
msc += $warning:The tentacle pulls you backwards
msc += $warning:starcursed mass shudders and
msc += $warning:The kraken squirts a massive cloud of ink
msc += $warning:Wisps of shadow whirl around you
msc += $warning:You are too injured to fight recklessly
msc += $warning:You are blown backwards
msc += $warning:shakes off its lethargy
msc += $warning:I don't know how to get there
msc += $warning:There is a magical portal here
msc += $warning:Your.*warbles
msc += $warning:chimes melodiously
msc += $warning:erupts into laughter
msc += $warning:makes a deep moaning sound
msc += $warning:raves incoherently
msc += $warning:speaks gibberish
msc += $warning:belts out
msc += $warning:yelps
msc += $warning:goes tick-tock
msc += $warning:gives off a wolf whistle
msc ^= $warning:[e] your.* of resist
msc += $warning:phases out as you
msc += $warning:momentarily phases out
msc += $warning:cracks jokes
msc += $warning:Your orb of destruction dissipates
msc += $warning:regales you with its life story
msc += $warning:parrots the noises around you
msc += $warning:lets out a mournful sigh
msc += $warning:tootles away
msc += $warning:makes a horrible noise
msc += $warning:burps loudly
msc += $warning:You are caught in a violent explosion
msc += $warning:pulses with an eldritch light
msc += $warning:the glow from your magical contamination prevents you from becoming completely invisible
msc += $warning:appears from out of your range of vision
msc += $warning:You feel controlled for a moment
msc += $warning:You stop putting on your armour
msc += $warning:You feel buoyant
msc += $warning:We have you now
msc += $warning:You do not belong in this place
msc += $warning:before it is too late
msc += $warning:There is a sudden explosion of magical energy
msc += $warning:Something forms from out of thin air
msc += $warning:You sense a hostile presence
msc += $warning:Trespassers are not welcome here
msc += $warning:You feel a terrible foreboding
msc += $warning:You will not leave this place
msc += $warning:wrenching scream
msc += $warning:Leave now/, before it is too late
msc += $warning:picks up
msc += $warning:Nothing appears to happen
msc += $warning:The dead are
msc += $warning:The boulder beetle hits a closed door
msc += $warning:begin to drag.*along the ground
msc += $warning:merge to form a (macabre mass|small abomination|large abomination)
msc += $warning:Two macabre masses merge
msc += $warning:falls through the shaft
msc += $warning:There is a crawl-hole back to the Lair here
msc += $warning:There is a hole to the Spider Nest here
msc += $warning:You create a pond
msc += $warning:Mennas becomes audible again
msc += $warning:That was extremely unsatisfying
msc += $warning:The wind howls around you
msc += $warning:You are feeling less magically infused
msc += $warning:Something invisible bursts forth from the water
msc += $warning:Something.*misses
msc += $warning:There is a cloud of mutagenic fog here
msc += $warning:howls
msc += $warning:You part the fleshy orifice with a squelch
msc += $warning:The orb of energy explodes
msc += $warning:The air shimmers briefly around you
msc += $warning:You are much too full right now
msc += $warning:turns to fight
msc += $warning:You feel transcendent for a moment
msc += $warning:You're too terrified to move while being watched
msc += $warning:You have drawn Pain
msc += $warning:The queen bee calls on the killer bee to defend her
msc += $warning:You turn into a bat
msc += $warning:Your.*looks incredibly listless
msc += $warning:The mass is resisting your pull
msc += $warning:Moving in this stuff is going to be slow
msc += $warning:escapes
msc += $warning:The silence causes your song to end
msc += $warning:You feel (slightly|somewhat) less full
msc += $warning:The light of Elyvilon fails to reach
msc += $warning:The light of Elyvilon almost touches upon
msc += $warning:[^r]pulls free of the water
msc += $warning:Your piety has decreased
msc += $warning:struggles to resist
msc += $warning:You feel.*more hungry
msc += $warning:You are outlined in light
msc += $warning:You feel momentarily disoriented
msc += $warning:You are now empty
msc += $warning:(prevent|prevents) you from hitting
msc += $warning:The water nymph flows with the water
msc += $warning:summons a
msc += $warning:cannot make way for you
msc += $warning:The horns on your head shrink away
msc += $warning:Your shroud begins to fray at the edges
msc += $warning:You'd need three hands to do that
msc += $warning:Your.*disappears
msc += $warning:That's too.*for you
msc += $warning:The dungeon trembles and rubble falls from the walls
msc += $warning:Finesse? Hah! Time to rip out guts
msc += $warning:You fail to extend your transformation any further
msc += $warning:This spell does not affect your current form
msc += $warning:You can't wield anything in your present form
msc += $warning:Your.*revert to their normal proportions
msc += $warning:Suddenly Natasha's spirit rises from her lifeless body
msc += $warning:Your.*shudders
--Demonspawn gaining a mutation they already have
msc += $warning:Your mutations feel more permanent
msc += $warning:Roots rise up from beneath.*and drag it to the ground
msc ^= $warning:You hunger for vegetation
msc ^= $warning:You feel a sudden chill
msc += $warning:You feel hot for a moment
msc += $warning:stop glowing
msc += $warning:Your.*stops glowing
msc += $warning:The water foams
msc += $warning:The satyr's allies are stirred to greatness
msc += $warning:Mushrooms sprout up around you
msc += $warning:seems less confused
msc += $warning:You could not reach far enough
msc ^= $warning:The golden flame engulfs you
msc += $warning:You shudder
msc += $warning:The giant firefly flashes a warning beacon
msc += $warning:vibrate crazily for a second
msc += $warning:Harold falls down\, and clutches his wounds
msc += $warning:You finish recalling your allies
msc += $warning:Your.*wears
msc += $warning:Something (hits|bites) your?
msc += $warning:You feel more confident with your borrowed prowess
msc += $warning:Your hands get new energy
msc += $warning:You squeal for attention
msc ^= $warning:changes into
msc += $warning:The crackle of the magical portal is almost imperceptible now
msc += $warning:blocks (the|you)
msc += $warning:You start to feel a little faster
msc += $warning:You meow for attention
msc += $warning:The lightning arc arcs out of your line of sight
msc += $warning:The lightning arc suddenly appears
msc += $warning:The bush is engulfed in roaring flames
msc += $warning:A yell rips itself from your throat
msc += $warning:Purgy wonders\, \"What am I doing in here\?\"
msc += $warning:Your spectral.*fades into mist
msc += $warning:You create some ball lightning
msc += $warning:dances into the air
msc += $warning:appears
msc += $warning:Your divine protection wanes
msc += $warning:The sheep \"Baaaas\" balefully

#msc += $boring:
msc += $boring:Everything looks hazy for a moment
msc += $boring:There is a strange surge of energy around
msc += $boring:orc priest shimmers for a moment
msc += $boring:orc priest's eyes start to glow
msc += $boring:The weapon returns to your
msc += $boring:Your bandages flutter
msc += $boring:The water in the fountain briefly bubbles
msc += $boring:The bush looks momentarily different
msc += $boring:Dowan's feet meld with the ground\, briefly
msc += $boring:briefly looks nauseous
msc += $boring:twitches
msc += $boring:Jessica looks very angry
msc += $boring:You fall off the door
msc += $boring:Sigmund flickers\, as though insubstantial
msc += $boring:The Killer Klown sprays water
msc += $boring:The Killer Klown honks
msc += $boring:wriggles its tentacles
msc += $boring:You reach down and part the fleshy orifice
msc += $boring:orb spider pulsates with a strange energy
msc += $boring:orb spider begins to weave its threads into a brightly glowing ball
msc += $boring:Your eyebrows briefly feel incredibly bushy
msc += $boring:briefly appears rusty
msc += $boring:Your.*briefly vibrates
msc += $boring:You feel gritty
msc += $boring:Your elbows glow momentarily
msc += $boring:You feel odd
msc += $boring:You briefly become tangled in your
msc += $boring:Your eyebrows wriggle
msc += $boring:You detect nothing
msc += $boring:Your.*shimmers for a momentshimmers for a moment
msc += $boring:Your.*eyes start to glow
msc += $boring:Your.*spins!
msc += $boring:grins madly
msc += $boring:You lose your grip on
msc += $boring:The water engulfing you falls away
msc += $boring:The disc glows for a moment\, then fades
msc += $boring:Your.*briefly glows
msc += $boring:You feel numb
msc += $boring:The chaos spawn grows dozens of eye stalks in order to get a better look at you
msc += $boring:Jory stares carefully at you
msc += $boring:seems to be having trouble coordinating.*its legs
msc += $boring:Your.*flashes
msc += $boring:You create a blast of thin mist
msc ^= $boring:then vanish
msc += $boring:avoids triggering.*trap
msc += $boring:Terence looks scornfully at you
msc += $boring:Sigmund looks at you with fury
msc += $boring:holds.*ground
msc += $boring:The door collapses
msc += $boring:The lightning arc grounds out
msc += $boring:Fannar glares icily
msc += $boring:ghost twirls its
msc += $boring:You attack empty space
msc += $boring:Eustachio twirls his moustache
msc += $boring:is briefly tinged with black
msc += $boring:The dust glows 
msc += $boring:Crazy Yiuf scratches his head thoughtfully
msc += $boring:Crazy Yiuf counts something out on his finger
msc += $boring:You aren't quite hungry enough to eat that
msc += $boring:The crystal guardian glitters
msc += $boring:The wizard's fingertips start to glow
msc += $boring:You are already empty-
msc ^= $boring:the.*shaped block of ice
msc ^= $boring:briefly gains? a (red|green|yellow) sheen
msc += $boring:The great wave of water passes through the water elemental
msc += $boring:shimmers and vanishes
msc += $boring:You do an impromptu tapdance
msc += $boring:You feel uncomfortable
msc ^= $boring:The shadow imp breathes mist at you
msc += $boring:That snozzcumber tasted truly putrid
msc += $boring:The reaper draws a finger across its throat
msc += $boring:Your.*seems to dim momentarily
msc += $boring:Your.*is briefly tinged with black
msc += $boring:Your.*shivers with cold
msc += $boring:Your.*has a weird expression for a moment
msc += $boring:A malignant aura surrounds your
msc += $boring:Your.*twitches violently
msc += $boring:The world appears momentarily distorted
msc += $boring:The iron imp grinds its teeth
msc += $boring:unwise to walk into this
msc += $boring:The tree breaks and falls down
msc += $boring:Nessos tries to tell you a complicated story about hydras
msc += $boring:The boulder beetle hits.*wall
msc += $boring:A root reaches out and grasps at passing movement
msc += $boring:Tangled roots snake along the ground
msc += $boring:You smell coffee
msc += $boring:The white imp grinds its teeth
msc += $boring:Your.*imp grins impishly at you
msc += $boring:Your hooves feel warm
msc += $boring:Your.*jumps up and down with excitement
msc += $boring:Strange appendages sprout from
msc += $boring:Suppurating sores blossom under
msc += $boring:That beef jerky was jerk
msc += $boring:A dozen eyes blink open in the
msc += $boring:You part the fleshy orifice
msc += $boring:There is an open fleshy orifice here
msc += $boring:Your hair momentarily turns into snakes
msc += $boring:The crimson imp grinds its teeth
msc ^= $boring:The crimson imp spits at you
msc += $boring:then rights herself and shakes her weapon
msc += $boring:You smell burning hair
msc += $boring:Your nose twitches suddenly
msc += $boring:You are wearing that object
msc += $boring:You can't wield jewellery
msc += $boring:There is an abandoned shop here
msc += $boring:You don't have any such object
msc += $boring:Mennas is caught in a moment of prayer
msc += $boring:You spin around
msc += $boring:Aizul coils and then uncoils
msc += $boring:The tide is released from Ilsuiw's call
msc += $boring:Polyphemus seems to be sizing you up for his next meal
msc += $boring:You can't read that
msc += $boring:You can't drink that
msc += $boring:Your.*falls into the water
msc += $boring:A large abomination twists grotesquely
msc += $boring:collapse into pulpy 
msc ^= $boring:You reach to attack
msc += $boring:avoids the shaft
msc += $boring:Your bones ache
msc += $boring:Thank you for shopping
msc += $boring:Your ears itch
msc += $boring:Prince Ribbit hops awkwardly around
msc += $boring:You pass into a different region of Pandemonium
msc += $boring:You smell brimstone
msc += $boring:Something frightening happens
msc += $boring:Multicoloured lights dance before your eyes
msc += $boring:Some snowflakes condense on Fannar
msc += $boring:shape twists and changes as it dies
msc += $boring:No such ability
msc += $boring:The plume of ash settles
msc += $boring:You feel uncomfortably hot
msc += $boring:You can't wield that with a shield
msc ^= $boring:The blast of magma explodes
msc += $boring:Crazy Yiuf glowers
msc += $boring:Crazy Yiuf flaps his cloak
msc += $boring:Crazy Yiuf waves his quarterstaff at you
msc += $boring:You feel lost and a long
msc += $boring:The world around you seems to dim momentarily
msc += $boring:tears through a web
msc += $boring:Pikel waves his whip at you
msc += $boring:Wisps of condensation drift from your
msc += $boring:A chill runs through your body
msc += $boring:Frost covers your body
msc += $boring:Your.*feel numb with cold
msc += $boring:That.*was very bland
msc += $boring:That lemon was rather sour
msc += $boring:You call on the dead to rise
msc += $boring:You can't wear that
msc += $boring:vibrates crazily for a second
msc ^= $boring:The crimson imp breathes (steam|mist) at you
msc += $boring:showing sharp teeth
msc += $boring:Branches wave dangerously above you
msc += $boring:A root lunges up near you
msc += $boring:Maurice looks sneaky
msc += $boring:Suddenly you are surrounded with a pale green light
msc += $boring:really hit the spot
msc += $boring:Mmmm... Yummy
msc += $boring:Grum bares his teeth
msc += $boring:Grum sniffs the air and quickly glances around
msc += $boring:The shadow imp grinds its teeth
msc += $boring:looks to the heavens
msc += $boring:beckons to you
msc += $boring:Your.*struggles to escape
msc += $boring:Your.*struggles against
msc += $boring:Your.*struggles to get unstuck from
msc += $boring:fades away
msc += $boring:You feel electric
msc += $boring:sharp shower of sparks
msc += $boring:pulsates ominously
msc += $boring:You feel earthy
msc += $boring:Sparks of electricity dance between your
msc += $boring:Edmund gestures with his flail
msc += $boring:You feel very uncomfortable
msc += $boring:tastes (great|very good|good|unpleasant)
msc += $boring:is not very appetising
msc += $boring:was delicious
msc += $boring:Xtahua glares at you
msc += $boring:You pass through the gate
msc += $boring:The starspawn's tentacles wither and die
msc += $boring:Trunks creak and shift
msc += $boring:unmelds from your body
msc += $boring:The air around.*crackles with energy
msc += $boring:Something.*the (bush|plant)
msc += $boring:There's nothing there!
msc += $boring:You briefly turn translucent
msc += $boring:unborn seems to be listening
msc += $boring:You can only put on jewellery
msc ^= $boring:You smell decay. Yuck!
msc += $boring:Ouch!
msc += $boring:There isn't anything here
msc += $boring:The air around you briefly surges with heat
msc += $boring:Your skin glows momentarily
msc += $boring:You draw two cards from the deck
msc += $boring:You shuffle the cards back into the deck
msc += $boring:The drowned soul returns to the deep
msc += $boring:Your.*stays? behind
msc += $boring:You prostrate yourself
msc += $boring:You shiver with cold
msc += $boring:glows (bright chartreuse|shining black|silvery red|dark black) for a moment
msc += $boring:glows (faint lime green|pale silver|dull charcoal|brightly|shimmering blue) for a moment
msc += $boring:glows (dull rubric|pale yellow|brilliant magenta|pale dun|mottled black|dull silver) for a moment
msc += $boring:glows (dark umber|faint lavender|brilliant black|pale gold) for a moment
msc += $boring:Waves of light ripple over your body
msc += $boring:Your skin tingles
msc += $boring:looks braver
msc += $boring:You enjoyed that
msc += $boring:Your brain hurts
msc += $boring:becomes somewhat translucent
msc += $boring:generates a fountain of clear water
msc += $boring:You cannot attack while caught
msc += $boring:You cannot throw anything while caught
msc += $boring:grinds (her|his) teeth
msc += $boring:bristles in rage as it notices you
msc += $boring:You feel forgetful for a moment
msc += $boring:The briar patch crumbles away
msc += $boring:You feel momentarily lethargic
msc += $boring:...but nothing happens
msc += $boring:Wisps of smoke drift from your
msc += $boring:You smell salt
msc += $boring:tries to hide in the shadows
msc += $boring:stops crackling
msc += $boring:You momentarily stiffen
msc += $boring:waves its rhizomes
msc += $boring:You smell (smoke|something weird)
msc += $boring:The floor shifts beneath you alarmingly
msc += $boring:The reaper smiles without lips
msc += $boring:great wave of water passes through
msc += $boring:There isn't anything to butcher here
msc += $boring:crushes a nearby insect and laughs
msc += $boring:Welcome back to the Dungeon
msc += $boring:You are blasted with air
msc ^= $boring:There is a collapsed entrance here
msc += $boring:You feel slightly nauseous
msc += $boring:You can't see any susceptible monsters within range! (Use Z to cast anyway.)
msc += $boring:You can't go (up|down) here
msc += $boring:Your hair stands on end
msc += $boring:Wisps of vapour drift from your
msc += $boring:This raw flesh tastes terrible
msc += $boring:The Killer Klown smiles at you
msc += $boring:the (plant|fungus)
msc += $boring:You are momentarily dazzled by a (brilliant|flash of) light
msc ^= $boring:(flickers out of sight|slips into darkness|flickers and vanishes) for a moment
msc += $boring:The golden flame engulfs your?
msc += $boring:The shaft crumbles and collapses
msc += $boring:An air elemental (merges|forms) itself (into|from) the air
msc += $boring:A corpse collapses into a pulpy mess
msc += $boring:You start (resting|waiting)
msc += $boring:Unknown command
msc += $boring:but (do no|doesn't do any|does no) damage
msc += $boring:miss
msc += $boring:Wisps of poison gas drift from your
msc += $boring:You walk carefully through
msc += $boring:grow from
msc += $boring:withers and dies
msc += $boring:There is nothing on the other side of the stone arch
msc += $boring:misses you
msc += $boring:You are waved at by a branch
msc += $boring:The trees move their gnarly branches around
msc += $boring:You swap
msc += $boring:The smell of rotting flesh
msc += $boring:Ugh! There is something really disgusting
msc += $boring:Heat runs through your body
msc += $boring:Lukewarm flames ripple over your body
msc += $boring:stops (dripping with poison|flaming)
msc += $boring:Press } to see all runes
msc += $boring:There is a.*(door|gate)
msc += $boring:(eye-stalks|antennae|whiskers)
msc += $boring:You feel troubled
msc += $boring:You feel a wave of unholy energy pass over you
msc += $boring:grins evilly
msc += $boring:A huge blade swings just past you
msc += $boring:(The|Something).*disappears
msc += $boring:The.*glitters chillingly
msc += $boring:You feel a strange surge of energy
msc += $boring:There are no unholy or evil weapons here to destroy
msc += $boring:close doors on yourself
msc += $boring:Your.*falls off the wall
msc += $boring:stops rolling
msc += $boring:(pauses|quivers|summons a swarm of flies|gazes forward|sputters|skips|stops to sniff)
msc += $boring:turns its.*gaze
msc += $boring:Your summoned ally is left behind
msc += $boring:That felt strangely unrewarding
msc += $boring:The air around you crackles with energy
msc += $boring:in your inventory have.*rotted away
msc += $boring:(drops|unwields)
msc += $boring:The battlesphere dissipates
msc += $boring:(The|Your?).*(passes|pick your way) through a web
msc += $boring:passes through a web
msc += $boring:You feel extremely cold
msc += $boring:You feel terrible
msc += $boring:You sense a malignant aura
msc += $boring:You (hold|stand your ground
msc += $boring:Your.*(holds|stands) its ground
msc += $boring:The.*eats the
msc += $boring:The winds cease moving at the.*will
msc += $boring:The ground creaks as gnarled roots bulge its surface
msc += $boring:rages
msc += $boring:Your acid blob dissolves into a puddle of slime
msc += $boring:You feel a wrenching sensation
msc += $boring:The.*falls off the wall
msc += $boring:The.*jiggles
msc += $boring:The.*looks excited
msc += $boring:Pikel cracks his whip
msc += $boring:Press } to see all the runes you have collected
msc += $boring:slime creature splits
msc += $boring:stops glowing
msc += $boring:splashes around in the water
msc += $boring:tentacles slide back into the water
msc += $boring:The.*dissolves into shadows
msc += $boring:You smell something rotten
msc += $boring:You (close|open) the.*(door|gate)
msc += $boring:reach down and (open|close) the.*(door|gate)
msc += $boring:You (fly|climb) (up|down)wards
msc += $boring:You go (up|down)
msc += $boring:You fly (up|down) through the gate
msc += $boring:You must enter the number of times for the command to repeat
msc += $boring:Use Z to cast anyway
msc += $boring:There are no items here
msc += $boring:it crumbles to dust
msc += $boring:The hatch slams shut behind you
msc += $boring:There is an empty arch of ancient stone here
msc += $boring:The world spins around you as you enter the gateway
msc += $boring:This spell is.*dangerous to cast
msc += $boring:There is a web.*here
msc += $boring:You pick your way through the web
msc += $boring:You hold your ground
msc += $boring:The floor vibrates
msc += $boring:Sand pours from your
msc += $boring:Strange energies run through your body
msc += $boring:You smell something strange
msc += $boring:ghost tries to sneak away
msc += $boring:evades a web
msc += $boring:The.*goes (up|down) the 
msc += $boring:jumps into the shaft
msc += $boring:Found.*gold
msc += $boring:You now have.*gold
msc += $boring:Why would you want to do that
msc += $boring:you're not good enough to have a special ability
msc += $boring:holds its.*at the ready
msc += $boring:There is a.*fountain.*here
msc += $boring:Little bolts of electricity crackle over the disc
msc += $boring:tries to grin evilly
msc += $boring:The corpses? collapses? into a pulpy mess
msc += $boring:There is an empty arch of ancient stone
msc += $boring:The runic seals? fades? away
msc += $boring:looks hungrier
msc += $boring:Something drops 
msc += $boring:tears the web
msc += $boring:lashes its tail
msc += $boring:smirks and points a slender finger
msc += $boring:The orb of destruction dissipates
msc += $boring:spectral weapon stumbles backwards
msc += $boring:Your (hands|claws) glow momentarily
msc += $boring:Weird images run through your mind
msc += $boring:safely over a trap
msc += $boring:avoid triggering a
msc += $boring:A net swings high above you
msc += $boring:Natasha extends her claws
msc += $boring:The shadow imp breathes steam at you
msc += $boring:You feel weak for a moment
msc += $boring:You can't see any susceptible monsters within range
msc += $boring:You are momentarily dazzled by a brilliant light
msc += $boring:You feel momentarily weightless
msc += $boring:You feel uncomfortably cold
msc += $boring:Your fire elemental sizzles in the rain
msc += $boring:Nessos pounds the earth with his hooves
msc += $boring:Frost spreads across the the floor
msc += $boring:You sense an ancient evil watching you
msc += $boring:Your.*(looks|smiles) at you
msc += $boring:You experience a momentary feeling of inescapable doom
msc += $boring:Something in your inventory has become rotten
msc += $boring:There is something rotten in your inventory
msc += $boring:assumes a wrestling stance
msc += $boring:feints to the
msc += $boring:Purgy looks around nervously
msc += $boring:You smell pepper
msc += $boring:You feel faint for a moment
msc += $boring:You suddenly feel all small and vulnerable
msc += $boring:takes off
msc += $boring:There is a rock-blocked tunnel here
msc += $boring:The bat flutters around in erratic circles
msc += $boring:You swing at nothing
msc += $boring:This raw flesh tastes delicious
msc += $boring:electric golem crackles and sizzles
msc += $boring:ghost ripples
msc += $boring:Maud (looks upset|frowns)
msc += $boring:There is an ice choked empty arch of ancient stone here
msc += $boring:Sparks fly from your
msc += $boring:crimson imp breathes smoke at you
msc += $boring:Distant voices call out to you
msc += $boring:You are showered with tiny particles of grit
msc += $boring:The scroll reassembles itself in your
msc += $boring:You feel uncomfortably hot
msc += $boring:Nergalle blows her nose
msc += $boring:You release your grip on
msc += $boring:Nergalle looks more energetic
msc += $boring:stampedes away
msc += $boring:fails to trigger a.*trap
msc += $boring:You feel a numb sensation
msc += $boring:You can't eat that
msc += $boring:You smell sulphur
msc += $boring:There's nothing to (open|close) nearby
msc += $boring:Your.*stumbles backwards
msc += $boring:ghost takes a fighting stance
msc += $boring:You shiver with fear
msc += $boring:Your.*falls like a stone
msc += $boring:You feel a surge of energy from the ground
msc += $boring:You release your grib on
msc += $boring:Your head hurts
msc += $boring:The lightning grounds out
msc += $boring:Your.*feel warm
msc += $boring:This isn't a weapon
msc += $boring:You feel as though nothing has changed
msc += $boring:Blork the orc's eyes start to glow
msc += $boring:Blork the orc shakes
msc += $boring:You smell wet wool
msc += $boring:You create a blast of rain
msc += $boring:There is a rose-covered archway here
msc += $boring:becomes larger for a moment
msc += $boring:falls out of your pack
msc += $boring:leaps into the air
msc += $boring:body glows momentarily

# Enemies taking damage
msc += $good:You (hit|bite|slice|spit|open|slash|puncture|carve|perforate|stick|cut|trample|maul|pierce)
msc += $good:You (chop|strike|skewer|impale|dice|headbutt|fracture|peck|touch|kick|freeze|smack|shred|scratch) 
msc += $good:You (pummel|squash|pulverise|grab|squeeze|constrict|sock|thump|thrash|flatten|tail-slap|tentacle-slap)
msc += $good:You (burn|claw|mangle|punch|drain|bludgeon|whack|shatter|hammer|sears|beat|pound|crush|eviscerate) 
msc += $good:(hits|bites|slices|spits|opens|slashes|punctures|carves|perforates|sticks|tramples|trunk-slaps) [^y]
msc += $good:(freezes|poisons|engulfs|draws|tail-slaps|kicks|smacks|shreds|melts|mauls|touches|crushes) [^y]
msc += $good:(pummels|squashes|pulverises|cuts|chops|strikes|skewers|attacks|hits|constricts|burns) [^y]
msc += $good:(grabs|claws|shocks|drains|sears|pecks|gores|stings|tentacle-slaps|headbutts|eviscerates|punches) [^y]
msc += $good:You smite
msc += $good:You draw life from 
msc += $good:is struck by the twisting air
msc += $good:burns!
msc += $good:Asterion shares his spectral weapon's damage
msc += $good:is struck by lightning
msc += $good:A guardian golem appears
msc += $good:is covered in liquid flames
msc += $good:is engulfed in
msc += $good:A fierce wind blows from the fan
msc += $good:Your.*tramples the
msc += $good:The orb of electricity engulfs the
msc += $good:The (fireball|burst of hellfire|blast of hellfire|ghostly fireball|explosion|stinking cloud) engulfs [^your?]
msc += $good:The (fiery explosion|great blast of fire|explosion of dart fragments|explosion of spores) engulfs [^your?]
msc += $good:The (plume of ash|blast of magma) engulfs [^y]
msc += $good:is smitten
msc += $good:struck by your spines
msc += $good:There is a sudden explosion of sparks
msc += $good:is drained
msc += $good:You drain (its|her|his) (magic|power)
msc += $good:You drain the
msc += $good:Something (hits|bites)
msc += $good:is blasted
msc += $good:is burned by your radiant heat
msc += $good:The boulder beetle smashes into the
msc += $good:The golden flame engulfs
msc += $good:The eldritch tentacle writhes
msc ^= $good:The.*pierces through the
msc += $good:Space (warps horribly|bends) around 
msc += $good:(convulses|writhes in agony)
msc += $good:is splashed with acid
msc += $good:You feel life coursing into your body
msc += $good:is struck by lightning
msc += $good:A sheep catches fire
msc += $good:is burned by acid

# Non-damage combat messages
#msc += $positive:
msc += $positive:You feel a sudden desire to slay dragons
msc += $positive:You feel weakened for a moment
msc += $positive:Your stone body feels more resilient
msc += $positive:You feel less vulnerable to hostile enchantments
msc += $positive:You swoop lightly up into the air
msc += $positive:You feel very comfortable in the air
msc += $positive:The air around you leaps into flame
msc += $positive:is knocked back by the great wave of water
msc += $positive:Your.*wounds heal themselves
msc += $positive:is recalled
msc += $positive:You renew your shroud
msc += $positive:One of your tentacles grows a vicious spike
msc += $positive:A mana viper appears with a sibilant hiss
msc += $positive:melts!
msc += $positive:You extend your mandibles
msc ^= $positive:Your?.*appears? unharmed
msc += $positive:You finish merging with the rock
msc += $positive:You gain the combat prowess of a mighty hero
msc += $positive:shroud falls apart
msc += $positive:Your.*glows blue
msc += $positive:your mind becomes perfectly clear
msc += $positive:You create a blast of noxious fumes!
msc += $positive:Roots rise up to grasp you\, but you nimbly evade
msc += $positive:is no longer moving quickly
msc += $positive:You create a snake
msc += $positive:apparition takes form in the air
msc += $positive:The rubble rises up and takes form
msc += $positive:You begin to abjure the creatures around you
msc += $positive:You extend your aura of abjuration
msc += $positive:A divine shield forms around you
msc += $positive:Your attacks no longer feel as feeble
msc += $positive:Your shroud bends the
msc += $positive:illusion disappears in a puff of smoke
msc += $positive:A beastly little devil appears in a puff
msc += $positive:Your.*is no longer encased in ice
msc += $positive:You deflect
msc += $positive:The lightning arcs
msc += $positive:is knocked back by the lance of force
msc += $positive:is dazzled
msc += $positive:is doused terribly
msc += $positive:An electric hum fills the air
msc += $positive:You summon a servant imbued with your destructive magic
msc += $positive:You are suffused with power
msc += $positive:The sheep.*panic
msc += $positive:The sheep turns to a blind rush
msc += $positive:Smoke pours from your nose
msc += $positive:The trap is out of ammunition
msc += $positive:You dart out from under the net
msc += $positive:The manticore spikes snap loose
msc += $positive:Your jumping spider.*pounces on the
msc += $positive:You are unaffected
msc += $positive:no longer looks unusually strong
msc += $positive:The area is filled with flickering shadows
msc += $positive:You block
msc += $positive:flinches away
msc += $positive:The.*is (repelled|deflected)
msc += $positive:Your.*is no longer paralysed.
msc += $positive:Your.*seems less confused
msc += $positive:You feel less contaminated with magical energies
msc += $positive:Your.*breaks free
msc += $positive:You feel momentarily confused
msc += $positive:That potion was really gluggy
msc += $positive:You resist
msc += $positive:You (partially|easily) resist
msc += $positive:Your skin crawls
msc += $positive:You draw out your weapon's spirit
msc += $positive:You catch the 
msc += $positive:fails to defend (itself|herself|himself)
msc += $positive:falters for a moment
msc += $positive:You feel invigorated
msc += $positive:flops around on dry land
msc += $positive:You escape
msc += $positive:glows a violent red
msc += $positive:You emit a cloud
msc += $positive:icy envelope dissipates
msc += $positive:(confused|looks drowsy)
msc += $positive:is caught in a (web|net)
msc += $positive:struggles to get unstuck from the (web|net)
msc += $positive:loses its grip on you
msc ^= $positive:The sentinel's mark upon you fades away
msc += $positive:The lost soul (fades away|flickers out)
msc += $positive:You turn into a creature of crystalline ice
msc ^= $positive:The.*dark mirror aura disappears
msc += $positive:is no longer berserk
msc += $positive:You wake up
msc += $positive:The grasping roots settle back into the ground
msc += $positive:The forest abruptly stops moving
msc += $positive:You feel more buoyant
msc += $positive:You fly up into the air
msc += $positive:You gasp with relief as air once again reaches your lungs
msc += $positive:A film of ice covers your body
msc += $positive:Your.*has recharged
msc += $positive:you pull free of the water engulfing you
msc += $positive:You feel a surge of unholy energy
msc += $positive:your?.*stops? burning
msc += $positive:begins to rapidly decay
msc += $positive:Your possessions no longer seem quite so burdensome
msc += $positive:You feel in control
msc += $positive:You feel odd for a moment
msc += $positive:suddenly stops moving
msc += $positive:is poisoned
msc += $positive:looks even sicker
msc += $positive:A film of ice covers your body
msc += $positive:is stunned!
msc += $positive:is flash-frozen
msc += $positive:seems to slow down
msc += $positive:is moving more slowly
msc += $positive:stops moving altogether
msc += $positive:Your skin hardens
msc += $positive:Your new body merges with your stone armour
msc += $positive:gives you a mild electric shock
msc += $positive:Eating
msc += $positive:the sound returns
msc += $positive:Your amulet of stasis gives you a mild electric shock
msc += $positive:You finish eating
msc += $positive:Your icy armour thickens
msc += $positive:The naga ritualist's toxic aura wanes
msc += $positive:Your.*pulls away from the web
msc += $positive:A chill wind blows around you
msc += $positive:You become transparent for a moment
msc += $positive:is charmed
msc += $positive:Your skin feels harder
msc += $positive:Shadowy shapes form in the air around you
msc += $positive:is burned terribly
msc += $positive:[^y].*is frozen
msc += $positive:You furiously retaliate
msc += $positive:The scroll dissolves into smoke
msc ^= $positive:Your.*reflects
msc += $positive:is no longer unusually agile
msc += $positive:struggles to blink free from constriction
msc += $positive:You pull the items towards yourself
msc += $positive:the former slaves? thanks? you
msc += $positive:Something gets caught in the net
msc += $positive:[^y].*rots
msc += $positive:the hog turns into a human
msc += $positive:the hogs revert to their human forms
msc += $positive:Your new body merges with your icy armour
msc += $positive:You feel the strange sensation of being on two planes at once
msc += $positive:You feel the material plane grow further away
msc += $positive:You momentarily phase out as.*passes through you
msc += $positive:You feel less exhausted
msc ^= $positive:Your.*(unaffected|resist[^a]|resists)
msc += $positive:The flame cauterises the wound
msc += $positive:You hack the.*last head off
msc += $positive:You carefully extract the manticore spikes from your body
msc += $positive:You melt the 
msc += $positive:has finally been put to rest
msc += $positive:begins to bleed from.*wounds
msc += $positive:Your.*draws strength from
msc += $positive:You feel yourself moving faster
msc += $positive:looks sick
msc += $positive:Your feet morph into talons
msc += $positive:You grow a pair of large bovine horns
msc += $positive:You extend your transformation
msc += $positive:Your.*turn into razor-sharp scythe blades
msc += $positive:You conjure a globe of magical energy
msc += $positive:You imbue your battlesphere with additional charge
msc += $positive:Your battlesphere fires
msc += $positive:You are no longer poisoned
msc += $positive:You finish butchering
msc += $positive:looks frightened
msc += $positive:The.*is outlined in light
msc += $positive:You feel quick
msc += $positive:You no longer feel sluggish
msc += $positive:You feel odd for a moment
msc += $positive:returns to your pack
msc += $positive:Space distorts slightly along a thin shroud covering your body
msc += $positive:You are covered in a thin layer of ice
msc += $positive:You feel (weak|clumsy|dopey) for a moment
msc += $positive:stops singing
msc += $positive:and things crawl out
msc += $positive:A crackling disc of dense vapour forms in the air
msc += $positive:icy armour evaporates
msc += $positive:Your.*looks invigorated
msc += $positive:repels the curse
msc += $positive:Yoink! You pull the item towards yourself
msc += $positive:but delicious nonetheless
msc += $positive:The disc of vapour around you crackles
msc += $positive:turns into a zombie
msc += $positive:You summon
msc += $positive:hydra's last head off
msc += $positive:You feel a.*surge of power
msc += $positive:magic leaks into the air
msc += $positive:You focus on the pain
msc += $positive:Your.*darts out from under the net
msc += $positive:struggles to escape constriction
msc += $positive:submits to your will
msc += $positive:You channel some magical energy
msc += $positive:is caught in the net 
msc += $positive:struggles (to escape|against) the net
msc += $positive:Your fit of retching subsides
msc += $positive:Your magic seems less tainted
msc += $positive:You feel your power returning
msc += $positive:You shudder from the blast and a jelly pops out
msc += $positive:looks weaker
msc += $positive:falls into the water
msc += $positive:You fade into the shadows
msc += $positive:life force is offered up
msc += $positive:The holy swine is calmed by your holy aura
msc ^= $positive:grand avatar fades into the ether
msc ^= $positive:Your attacks are magically infused
msc ^= $positive:You feel protected from missiles
msc ^= $positive:You feel a little less hungry
msc ^= $positive:Your.*is no longer moving slowly 
msc ^= $positive:You are no longer (glowing|entranced)
msc ^= $positive:You feel as if something is helping you
msc += $positive:appears in a shower of sparks
msc += $positive:Malign forces permeate your being\, awaiting release
msc += $positive:A glowing mist starts to gather

#msc += $verypositive:
msc += $verypositive:Magical energy flows into your mind!
msc ^= $verypositive:The terrible wounds on your body vanish
--amulet of stasis
msc += $verypositive:Your.*rumbles
msc += $verypositive:You feel life flooding into your body
msc += $verypositive:You feel purified
msc += $verypositive:You feel more resilient
msc += $verypositive:You get a glimpse of the first card
msc += $verypositive:You turn into a swirling mass of dark shadows
msc ^= $verypositive:begin to glow red
msc += $verypositive:You feel nimbler
msc += $verypositive:the tentacle is hauled back through the portal
msc += $verypositive:You feel more in control of your magic
msc += $verypositive:releases its grip on you
msc += $verypositive:You feel magically charged
msc += $verypositive:You turn to flesh and can move again
msc += $verypositive:Your magma supply has returned
msc += mute:HP restored
msc += mute:Magic restored
msc += $verypositive:You (kill|destroy|blow up)
msc += $verypositive:is blown up
msc += $verypositive:dies
msc += $verypositive:is destroyed
msc += $verypositive:is killed
msc += $verypositive:is incinerated
msc += $verypositive:is devoured by a tear in reality
msc += $verypositive:turns neutral
msc += $verypositive:The spatial vortex dissipates
msc += $verypositive:Your magical contamination has.*faded
msc += $verypositive:drowns
msc += $verypositive:The.*falls from the air
msc += $verypositive:The.*simulacrum vapourises
msc += $verypositive:more experienced
msc ^= $verypositive:rots away and dies
msc ^= $verypositive:You.*and break free
msc += $verypositive:The web tears apart
msc += $verypositive:You disentangle yourself
msc += $verypositive:Saving game... please wait
msc += $verypositive:You finish memorising
msc += $verypositive:You may choose your destination
msc += $verypositive:You feel yourself speed up
msc += $verypositive:You feel stealthy
msc += $verypositive:You feel less vulnerable to poison
msc += $verypositive:Your skill with magical items lets you calculate the power of this device
msc += $verypositive:You can move again
msc += $verypositive:The fungal colony is destroyed
msc ^= $verypositive:The starcursed mass shudders and is absorbed by its neighbour
msc ^= $verypositive:The starcursed mass shudders and withdraws
msc += $verypositive:You are no longer firmly anchored in space
msc += $verypositive:Magic courses through your body
msc += $verypositive:You have disarmed the trap
msc += $verypositive:You are healed
msc += $verypositive:Pain shudders through your arm
msc += $verypositive:You slip out of the net
msc += $verypositive:You break free from the net
msc += $verypositive:Your life force is being protected
msc += $verypositive:It is a scroll of recharging
msc += $verypositive:is converted
msc += $verypositive:It is a scroll of enchant
msc += $verypositive:That put a bit of spring back into your step
msc += $verypositive:You feel vaguely more buoyant than before
msc += $verypositive:You feel (much better|resistant|faster|mighty|protected|better|refreshed)
msc += $verypositive:You feel very mighty all of a sudden
msc += $verypositive:You feel agile all of a sudden
msc += $verypositive:You feel aware of your surroundings
msc += $verypositive:You detect (creatures|items)
msc += $verypositive:You feel the corruption within you wane
msc += $verypositive:You feel perceptive
msc ^= $verypositive:You feel less confused
msc += $verypositive:You feel healthier
msc += $verypositive:You feel a little better
msc += $verypositive:You feel studious about
msc += $verypositive:You feel telepathic
msc += $verypositive:You feel your magic capacity increase
msc += $verypositive:You feel the abyssal rune guiding you out of this place
msc += $verypositive:You feel fantastic
msc += $verypositive:Found.*altar
msc += $verypositive:Found a one-way gate to the infinite horrors of the Abyss
msc += $verypositive:Found a glowing drain
msc += $verypositive:Found a gate leading back out of here
msc += $verypositive:Found a hole to the Spider Nest
msc += $verypositive:Found a frozen archway
msc += $verypositive:Found an ice covered gate leading
msc += $verypositive:Found a dark tunnel
msc += $verypositive:Found a labyrinth entrance
msc += $verypositive:Found a flagged portal
msc += $verypositive:Found an exit through the horrors of the Abyss
msc += $verypositive:Found a gateway leading out of the Abyss
msc += $verypositive:Found a gateway leading deeper into the Abyss
msc += $verypositive:Found a gate leading out of Pandemonium
msc += $verypositive:Found a gate leading to another region
msc += $verypositive:Found a gate to the Vaults
msc += $verypositive:Found a gateway
msc += $verypositive:Found a rocky tunnel leading out of this place
msc += $verypositive:Found a portal to a secret trove of treasure
msc += $verypositive:Found a magical portal
msc += $verypositive:Found a flickering gateway to a bazaar
msc += $verypositive:Found a one-way gate leading to the halls of Pandemonium
msc += $verypositive:Found a portal leading out of here
msc += $verypositive:Found.*staircase
msc += $verypositive:Found.*(shop|store|Emporium|Distillery|Boutique|Accessories|Antiques)
msc += $verypositive:You feel your magical essence form a protective shroud around your flesh
msc += $verypositive:You feel your.*returning
msc += $verypositive:It is a scroll of brand weapon
msc ^= $verypositive:Your.*seems to speed up
msc += $verypositive:An interdimensional caravan has stopped on this level and set up a bazaar
msc += $verypositive:Your demonic ancestry asserts itself
msc += $verypositive:You feel (agile|clever|stronger)
msc ^= $verypositive:You feel resistant to hostile enchantments
msc += $verypositive:You feel more protected from negative energy

#Positive mutation - or losing bad ones
#msc += $awesome:
msc ^= $awesome:You feel more in touch with the powers of death
msc += $awesome:You feel resistant to poisons
msc += $awesome:You feel.*resistant to (heat|cold)
msc += $awesome:You no longer feel vulnerable to (heat|cold)
msc += $awesome:Your urge to yell lessens
msc += $awesome:One of your lower tentacles grows a sharp spike
msc += $awesome:You regain control of your magic
msc += $awesome:The horns on your head grow some more
msc += $awesome:You feel less concerned about heat
msc += $awesome:You smell fire and brimstone
msc += $awesome:You begin to radiate miasma
msc += $awesome:You feel able to eat a more balanced diet
msc += $awesome:You feel genetically stable
msc ^= $awesome:You feel a.*healthier
msc += $awesome:You hunger for flesh
msc += $awesome:You feel your life force and your magical essence meld
msc ^= $awesome:You feel your magical essence form a protective shroud around your flesh
msc += $awesome:You feel your magic shroud grow more resilient
msc += $awesome:Your body becomes stretchy
msc += $awesome:Your skin becomes partially translucent
msc += $awesome:You feel less concerned about cold
msc += $awesome:You feel cleansed
msc += $awesome:You are surrounded by darkness
msc += $awesome:Your skin functions as natural camouflage
msc += $awesome:You begin to emit a foul stench of rot and decay
msc += $awesome:You hunger for rotting flesh
msc ^= $awesome:You feel energised by your suffering
msc ^= $awesome:You feel even more energised by your suffering
msc += $awesome:Your teeth lengthen and sharpen
msc += $awesome:Your natural healing is strengthened
msc += $awesome:You begin to regenerate
msc += $awesome:You begin to radiate repulsive energy
msc += $awesome:Your repulsive radiation grows stronger
msc += $awesome:Your body's shape seems more normal
msc += $awesome:You feel the presence of a demonic guardian
msc += $awesome:Your guardian grows in power
msc += $awesome:Your scales feel tougher
msc += $awesome:Your teeth are very long and razor-sharp
msc += $awesome:You feel negative
msc += $awesome:You begin to heal more quickly
msc += $awesome:You feel healthy
msc += $awesome:You feel a little more calm
msc += $awesome:You feel nature experimenting on you
msc += $awesome:You feel a strange attunement to the structure of the dungeons
msc += $awesome:Your mouth lengthens and hardens into a beak
msc += $awesome:Fur sprouts all over your body
msc += $awesome:Your attunement to dungeon structure grows
msc += $awesome:You slip into the darkness of the dungeon
msc += $awesome:You slip further into the darkness
msc += $awesome:Your thoughts seem clearer
msc += $awesome:A wave of death washes over you
msc += $awesome:The wave of death grows in power
msc += $awesome:Sharp spines emerge from
msc += $awesome:Your vision sharpens
msc += $awesome:Your urge to shout disappears
msc ^= $awesome:scales grow over part of your
msc ^= $awesome:scales spread over more of your
msc += $awesome:scales cover you.*completely
msc += $awesome:You are partially covered in thin metallic scales
msc ^= $awesome:Something appears at your feet
msc ^= $awesome:Something appears before you
msc ^= $awesome:Your urge to shout disappears
msc += $awesome:Your metabolism slows
msc += $awesome:Your bones become.*less dense
msc += $awesome:You feel (more robust|robust|very robust)
msc += $awesome:You feel more energetic
msc += $awesome:You feel insulated
msc += $awesome:Your (toenails|fingernails) (lengthen|sharpen)
msc += $awesome:Your hands twist into claws
msc += $awesome:Your feet stretch into talons
msc += $awesome:Your feet thicken and deform
msc ^= $awesome:A pair of antennae grows on your head
msc ^= $awesome:The antennae on your head grow some more
msc ^= $awesome:There is a nasty taste in your mouth for a moment
msc ^= $awesome:You feel stable
msc += $awesome:Large bone plates grow
msc += $awesome:Your throat feels hot
msc += $awesome:Your teeth grow very long and razor-sharp

# Other rare and awesome stuff
msc += $awesome:A monocle briefly appears
msc += $awesome:You feel an empty sense of dread
msc += $awesome:That felt like a moral victory
msc += $awesome:A shaft materialises beneath you
msc += $awesome:You draw Experience
msc += $awesome:You draw the Mercenary
msc += $awesome:You rejoin the land of the living
msc += $awesome:A genie takes form and thunders\: \"Choose your reward
msc += $awesome:You turn into a fearsome dragon
msc += $awesome:You turn into a living statue of rough stone
msc += $awesome:You manage to scramble free
msc += $awesome:Your.*(rod|wand).*glows for a moment
msc += $awesome:You sense traps nearby
msc += $awesome:You sense items nearby
msc += $awesome:You feel somewhat nimbler
msc += $awesome:A mystic portal forms
msc += $awesome:You may select the general direction of your translocation
msc += $awesome:It is briefly surrounded by shifting shadows
msc += $awesome:You are no longer firmly anchored in space
msc += $awesome:There is a gate to the Realm of Zot here
msc += $awesome:A terribly searing pain shoots up your
msc += $awesome:Your strength has recovered
msc += $awesome:A flood of memories washes over you
msc ^= $awesome:With a loud hiss the gate opens wide
msc += $awesome:You have collected all the runes
msc += $awesome:Now go and win
msc += $awesome:You feel knowledgeable
msc += $awesome:The arc blade crackles to life
msc += $awesome:You feel more sure on your feet
msc ^= $awesome:There is a gate leading out of Pandemonium here
msc += $awesome:You feel powerful
msc ^= $awesome:You can now
msc += $awesome:joins your ranks
msc += $awesome:Your magic begins regenerating once more
msc += $awesome:Your.*is now the 
msc += $awesome:There is a glowing drain
msc ^= $awesome:There is a gateway leading out of the Abyss here
msc += $awesome:There is a sand-covered staircase here
msc += $awesome:Your.*crackles with electricity
msc ^= $awesome:This is a scroll of acquirement
msc += $awesome:You pick up the.*rune
msc += $awesome:You now have.*rune
msc += $awesome:Your.*skill increases
msc += $awesome:You have reached level
msc += $awesome:Your experience leads to an increase in your attributes
msc ^= $awesome:There is a frozen archway here
msc ^= $awesome:There is a dark tunnel here
msc ^= $awesome:There is a flagged portal here
msc ^= $awesome:There is a portal to a secret trove of treasure here
msc += $awesome:There is a flickering gateway to a bazaar here
msc ^= $awesome:There is an entrance to.*on this level
msc += $awesome:3 runes! That's enough to enter the realm of Zot
msc += $awesome:The lock glows eerily
msc += $awesome:Heavy smoke blows from the lock
msc += $awesome:You have escaped!
msc += $awesome:rune into the lock
msc += $awesome:With a loud hiss the gate opens wide
msc += $awesome:You sensed
msc += $awesome:You are wearing\:
msc += $awesome:With a loud hiss the gate opens wide
msc += $awesome:The shadows inhabiting this place fade forever
msc += $awesome:You have identified the last
msc += $awesome:You feel a craving for the dungeon's cuisine

# Weapon brands/enchantment
msc ^= $awesome:A searing pain shoots up your 
msc += $awesome:You hear the crackle of electricity
msc += $awesome:Your.*tingle!
msc += $awesome:You feel a dreadful hunger
msc ^= $awesome:Your.*glows (red|green|.*yellow|purple)
msc += $awesome:Your.*briefly pass through it before you manage to get a firm grip on it

# You or an ally takes damage
#msc += $negative:
msc += $negative:Rocks fall onto you out of nowhere
msc += $negative:You are engulfed in raging winds
msc ^= $negative:Your.*convulses
msc += $negative:You are struck by the briar patch's thorns
msc += $negative:You feel like your blood is boiling
msc += $negative:The magical storm engulfs you
msc += $negative:Your body is flooded with distortional energies
msc += $negative:You are caught in a strong localised spatial distortion
msc ^= $negative:The Shining One blasts you with cleansing flame
msc += $negative:You are struck by lightning
msc += $negative:You are caught in an extremely strong localised spatial distortion
msc += $negative:You are blasted with searing flames
msc += $negative:Your.*suffers a backlash
msc ^= $negative:Your.*is smitten
msc += $negative:You are blasted with fire
msc ^= $negative:Your.*is engulfed in
msc ^= $negative:A huge blade swings out and slices into your?
msc += $negative:Flames sear your flesh
msc += $negative:A wave of violent energy washes through your body
msc += $negative:You are caught in a localised spatial distortion
msc += $negative:The acid blast engulfs you
msc ^= $negative:Heat is drained from your body
msc += $negative:Energy rips through your body
msc += $negative:You feel you are being watched by something
msc += $negative:Unholy energy fills the air
msc += $negative:You are caught in a localised field of spatial distortion
msc += $negative:The ghost moth stares at you
msc += $negative:Your ice beast melts
msc ^= $negative:burns you
msc += $negative:Your.*burn
msc += $negative:draws from the surrounding life force
msc += $negative:The boulder beetle smashes into you
msc += $negative:You feel very cold
msc ^= $negative:The.*pierces through (you|your)
msc ^= $negative:The walls? burns? you
msc ^= $negative:Your.*is blown up
msc += $negative:The throwing net hits your
msc += $negative:Your body is suffused with distortional energy
msc += $negative:constricts your?
msc += $negative:(bites|hits|headbutts|punches|shocks|tentacle-slaps|claws|smites|stings|freezes|slaps|pecks|gores) your?
msc += $negative:(tail-slaps|tramples|burns|poisons|gores|pecks|touches|kicks|trunk-slaps|skewers) your?
# Thanks killer klowns
msc += $negative:(flogs|trip-wires|defenestrates|headlocks|strangle-hugs|pokes|pounds|squeezes) your?
msc += $negative:Your.*burned by acid
msc += $negative:Your.*appears confused
msc += $negative:Your?.*is struck by the.*spines
msc += $negative:Your spectral weapon shares its damage
msc += $negative:The.*begins to radiate
msc += $negative:The.*toxic radiance grows
msc += $negative:Your.*loses its grip
msc += $negative:The water swirls and strikes you
msc += $negative:Your.*is knocked back
msc += $negative:The shock serpent's electric aura discharges violently
msc += $negative:The lightning shocks
msc += $negative:The tentacled starspawn engulfs you
msc += $negative:The.*ugly thing engulfs you
msc ^= $negative:Your life force is offered up
msc ^= $negative:The (fireball|.*hellfire|ghostly fireball|explosion|blast of flame|great blast of fire|fiery explosion) engulfs your?
msc ^= $negative:The (explosion of dart fragments|explosion of spores|stinking cloud|explosion of sling bullet fragments) engulfs your?
msc ^= $negative:The (blast of magma|plume of ash|blast of lightning) engulfs your?
msc += $negative:Pain shoots through your body
msc += $negative:Your.*is flash-frozen
msc += $negative:You writhe in agony
msc += $negative:you feel sick
msc += $negative:Something smites you
msc += $negative:The air twists around and.*strikes you
msc += $negative:You are hit by a branch
msc += $negative:You are caught in an explosion of flying shrapnel
msc += $negative:You are hit by flying rocks
msc ^= $negative:strikes at you from the darkness
msc += $negative:Your?.*burned terribly
msc += $negative:You swing wildly
msc += $negative:covered in liquid flames
msc += $negative:You are blasted with ice
msc += $negative:Your.*seems to slow down
msc += $negative:You are electrocuted
msc += $negative:and unravels at your touch
msc += $negative:You are struck by the.*spines
msc += $negative:The water rises up and strikes you
msc += $negative:The torrent of lightning arcs to you
msc += $negative:A root smacks your
msc += $negative:The eye of draining stares at you
msc += $negative:The orb of electricity engulfs you
msc += $negative:The barbed spikes dig painfully into your body as you move
msc += $negative:You are engulfed in (flames|freezing|negative energy|ghostly flame|roaring flames)
msc += $negative:You are engulfed in (poison gas|noxious fumes|a cloud of scalding steam|freezing vapours)
msc += $negative:A root smacks you from below
msc += $negative:Ka-crash
msc += $negative:You are frozen
msc ^= $negative:draws life force from you
msc += $negative:You have a terrible headache
msc += $negative:Your damage is reflected back at you
msc += $negative:Your body is twisted painfully
msc += $negative:Your scythe-like blades burn
msc += $negative:Your.*is splashed with acid
msc += $negative:Your.*is constricted
msc += $negative:The freed slave is burned by acid
msc += $negative:Something.*your
msc += $negative:snaps closed at you
msc += $negative:headbutts you!
msc += $negative:engulfs your
msc += $negative:You are blasted with magical energy
msc += $negative:The large rock crashes through you
msc += $negative:You are blasted!
msc += $negative:The great icy blast engulfs you
msc += $negative:is hit by a branch

#monster resists
msc += $danger:completely resists
msc += $warning:resists

# For the text that describes ranged attacks and spells
#msc += $takesaction:
msc += $takesaction:You begin recalling your allies
msc += $takesaction:You begin to radiate toxic energy
msc += $takesaction:The wretched star glows turbulently
msc += $takesaction:You begin to meditate on the wall
msc += $takesaction:You dig through the rock wall
msc += $takesaction:You ignite the poison in your surroundings
msc += $takesaction:You attempt to give life to the dead
msc ^= $takesaction:hurls a stone arrow
msc += $takesaction:weaves a glowing orb of energy
msc += $takesaction:spins a strand of pure energy
msc += $takesaction:Aizul coils himself and waves his upper body at you
msc ^= $takesaction:The royal jelly spits out
msc ^= $takesaction:calls upon Beogh to heal
msc ^= $takesaction:calls down the wrath of Beogh
msc ^= $takesaction:invokes the aid of Beogh
msc += $takesaction:utters an invocation to Beogh
msc += $takesaction:shining eye gazes
msc += $takesaction:orb of fire glows
msc += $takesaction:orb of fire emits
msc += $takesaction:utters an invocation to its god
msc += $takesaction:offers its life energy for powerful magic
msc += $takesaction:utters a dark prayer and points at you
msc += $takesaction:waves its arms in wide circles
msc += $takesaction:is infused with unholy energy
msc += $takesaction:shambling mangrove reaches out with a gnarled limb
msc += $takesaction:You jump-attack
msc += $takesaction:The injured rakshasa weaves a defensive illusion
msc += $takesaction:Mara seems to draw the.*out of itself
msc += $takesaction:Mara shimmers
msc += $takesaction:begins to recite a word of recall
msc += $takesaction:curse skull calls on the powers of darkness
msc += $takesaction:curse skull rattles its jaw
msc += $takesaction:Your shadow mimicks your spell
msc += $takesaction:calls down the wrath of its god upon you
msc += $takesaction:invokes the aid of its god against you
msc += $takesaction:rakshasa weaves an illusion
msc += $takesaction:begins to accept
msc += $takesaction:coils itself and waves its upper body at you
msc += $takesaction:casts a spell
msc += $takesaction:You breathe a
msc ^= $takesaction:You draw life from your surroundings
msc += $takesaction:You step out of the flow of time
msc += $takesaction:You can feel time thicken for a moment
msc += $takesaction:The flow of time bends around you
msc += $takesaction:You start singing a song of slaying
msc += $takesaction:The disc erupts in an explosion of electricity!
msc += $takesaction:and something leaps out
msc += $takesaction:You assume a fearsome visage
msc ^= $takesaction:Asterion utters an invocation to Makhleb
msc ^= $takesaction:Asterion conjures a destructive force in the name of Makhleb
msc ^= $takesaction:wizard howls an incantation
msc ^= $takesaction:draws from the surrounding life force
msc ^= $takesaction:Gastronok chants a spell
msc ^= $takesaction:(breathes|spits).*at you
msc += $takesaction:You conjure a mighty blast of ice
msc += $takesaction:conjures a mighty blast of ice
msc ^= $takesaction:Your spellforged servitor (launches|casts|conjures)
msc += $takesaction:You reach into the bag
msc += $takesaction:You gaze into the crystal ball
msc += $takesaction:Your jumping spider leaps
msc ^= $takesaction:ice dragon breathes frost
msc ^= $takesaction:points at you and mumbles some strange words
msc += $takesaction:(shoots|throws|fires) [^n]
msc += $takesaction:You (shoot|throw|fire)
msc += $takesaction:(gestures|conjures|fires|radiates|plays a)
msc ^= $takesaction:mumbles some strange (words|prayers)
msc ^= $takesaction:spriggan berserker (utters an invocation to|prays to|invokes) Trog
msc ^= $takesaction:calls down the wrath of the Shining One
msc += $takesaction:casts a spell.*floats close
msc += $takesaction:offers itself to Yredelemnul
msc ^= $takesaction:launches metal splinters at you
msc += $takesaction:(Angry insects surge|Agitated ravens fly) out from beneath the
msc ^= $takesaction:begins absorbing vital energies
msc ^= $takesaction:calls forth a grand avatar
msc ^= $takesaction:exhales a fierce blast of wind
msc ^= $takesaction:curls into a ball and starts rolling
msc ^= $takesaction:You open the lid...
msc ^= $takesaction:jumps down from its now dead mount
msc ^= $takesaction:swoops through the air toward you
msc ^= $takesaction:jumping spider pounces on
msc ^= $takesaction:jumping spider leaps
msc += $takesaction:The weapon returns to the
msc += $takesaction:manticore flicks its tail
msc += $takesaction:You begin to abjure the creatures around you
msc ^= $takesaction:The golden eye blinks at you
msc ^= $takesaction:Frances chants phrases taken from a Devil's mouth
msc ^= $takesaction:Frances screams a word of power
msc ^= $takesaction:Frances whispers indecipherable words
msc ^= $takesaction:Frances mutters in a terrible tongue
msc ^= $takesaction:activates a sealing rune
msc ^= $takesaction:offers up its power 
msc += $takesaction:You warp the flow of time around you
msc += $takesaction:summons
msc += $takesaction:great orb of eyes gazes at
msc += $takesaction:You radiate an aura of cold

msc += $godaction:(Elyvilon|Igni Ipthes|Elyvilon|Ashenzari|Cheibriados|Dithmenos|Fedhas|Okawaru|Lugonu|Jiyva|Beogh)
msc += $godaction:(Kikubaaqudgha|Makhleb|Nemelex|Sif Muna|Trog|Vehumet|Xom|Yredelemnul|Zin[^g]|The Shining One)
msc ^= $godaction:(Elyvilon|Igni Ipthes|Elyvilon|Ashenzari|Cheibriados|Dithmenos|Fedhas|Okawaru|Lugonu|Jiyva|Beogh) says
msc ^= $godaction:(Kikubaaqudgha|Makhleb|Nemelex|Sif Muna|Trog|Vehumet|Xom|Yredelemnul|Zin[^g]|The Shining One) says
msc ^= $godaction:Your divine halo returns
msc += $godaction:due to Igni's heat
msc += $godaction:A mighty gale blasts forth
msc += $godaction:A fiery fortress appears around you!
msc += $godaction:is consumed in a column of flame
msc += $godaction:The toadstool can now pick up its mycelia and move
msc += $godaction:Slime for the Slime God
msc ^= $godaction:Cheibriados rebukes [^y]
msc ^= $godaction:You hear Xom
msc ^= $godaction:Go forth and redecorate
msc ^= $godaction:Xom.*touches
msc ^= $godaction:You need some minor
msc ^= $godaction:Let me alter your
msc ^= $godaction:Xom complains about the scenery
msc ^= $godaction:Xom howls with laughter
msc ^= $godaction:This place needs a little more atmosphere
msc ^= $godaction:The area is suffused with divine lightning
msc ^= $godaction:Let's go for a ride
msc ^= $godaction:Xom momentarily opens a gate
msc ^= $godaction:Where it stops
msc ^= $godaction:\"First here\, now there\.\"
msc ^= $godaction:\"Over there now!\"
msc ^= $godaction:Serve the toy\, my child
msc ^= $godaction:Fight to survive\, mortal
msc ^= $godaction:Xom opens a gate
msc ^= $godaction:Xom slaps you with
msc ^= $godaction:You hear crickets chirping
msc ^= $godaction:Get over here
msc ^= $godaction:Go forth and destroy
msc ^= $godaction:Xom laughs nastily
msc ^= $godaction:Everything around seems to assume a strange transparency
msc ^= $godaction:You feel watched
msc ^= $godaction:The walls suddenly lose part of their structure
msc ^= $godaction:You are now a BORING thing
msc ^= $godaction:Xom makes a sudden noise
msc ^= $godaction:Xom roars with laughter
msc ^= $godaction:You feel someone pinching you\. As you turn\, you see no one
msc ^= $godaction:\"Try this\.\"
msc ^= $godaction:\"Whee!\"
msc ^= $godaction:\"Catch!\"
msc ^= $godaction:\"Here.\"
msc ^= $godaction:\"Boo!\"
msc ^= $godaction:\"Tag\, you\'re it!\"
msc ^= $godaction:\"Boring in life\, Boring in death\"
msc ^= $godaction:\"This might be better!\"
msc ^= $godaction:\"I like them better like this\.\"
msc ^= $godaction:\"Heh heh heh\.\.\.\"
msc ^= $godaction:\"Burn\, baby\, burn!\"
msc ^= $godaction:\"Time to have some fun!\"
msc ^= $godaction:\"Have a taste of chaos\, mortal\.\"
msc ^= $godaction:\"See what I see\, my child!\"
msc ^= $godaction:\"Just a minor improvement\.\.\.\"
msc ^= $godaction:\"Hum-dee-hum-dee-hum\.\.\.\"
msc ^= $godaction:\"There\, this looks better\.\"
msc ^= $godaction:\"You have grown too confident for your meagre worth\.\"
msc ^= $godaction:\"Take this token of my esteem\.\"
msc ^= $godaction:\"Take this instrument of something!\"
msc ^= $godaction:\"See what I see\, my child!\"
msc ^= $godaction:\"What!\? Thats's it\?!\"
msc ^= $godaction:\"Serve the (mortal|toy)\, my (child|children)!\"
msc ^= $godaction:Let\'s see if it\'s strong enough to survive yet
--These don't seem to work, maybe a bug?
msc ^= boring:disappears without a glow
msc ^= boring:disappears without a sign
msc ^= boring:glow with a rainbow of weird colours and disappear
msc ^= boring:glows slightly and disappears
msc ^= boring:is slowly consumed by flames
msc ^= boring:slowly burns to ash
msc ^= boring:slowly crumbles into the ground
msc ^= boring:shimmers? and breaks? into pieces
msc ^= boring:disappears into the void
msc ^= boring:stares at you suspiciously for a moment
msc += boring:trembles before you
msc += boring:You feel mildly nauseous
msc += boring:Multicoloured lights dance around

# Interface Messages
#msc += $interface:
msc += $interface:No exploration algorithm can help you here
msc += $interface:You cannot walk through the dense trees
msc += $interface:This wall is too hard to dig through
msc += $interface:You can't dig through that
msc += $interface:You are already wielding that
msc += $interface:There isn't anything suitable to butcher here
msc ^= $interface:Something interferes with your magic
msc += $interface:You can only heal others!
msc += $interace:You are already wielding that
msc += $interface:You don't know.*spells?
msc += $interface:That is presently inert
msc += $interface:That isn't a deck
msc += $interface:Reset throwing quiver to default
msc += $interface:You can't memorise that many levels of magic yet
msc += $interface:You aren't wielding a weapon
msc += $interface:You'd need your.*free
msc += $interface:I'll put part of them outside for you
msc += $interface:You're in a travel-excluded area\, stopping explore
msc += $interface:There is a passage of Golubria here
msc += $interface:you can't auto-travel out of here
msc += $interface:waypoint
msc += $interface:You aren't in the Abyss
msc += $interface:You haven't found any runes yet
msc += $interface:This weapon is holy and will not allow you to wield it
msc += $interface:Huh\?
msc += $interface:You can't drink
msc += $interface:You cannot cast that spell in your current form
msc ^= $interface:is stuck to you
msc += $interface:is melded into your body
msc ^= $interface:Your.*feels? slithery
msc += $interface:You can't wear anything in your present form
msc += $interface:You're too inexperienced to learn that spell
msc += $interface:You're already wearing two cursed rings
msc += $interface:You need a rune to enter this place
msc ^= $interface:There is an ice covered gate leading back out of here here
msc += $interface:The bosom of this dungeon contains the most powerful artefact
msc += $interface:Clearing travel trail
msc += $interface:Your pack is full
msc += $interface:You can't pick everything up
msc += $interface:Could not pick up an item
msc += $interface:You can't carry that many items
msc += $interface:You enter the Abyss
msc += $interface:You enter the halls of Pandemonium
msc += $interface:This wand has
msc += $interface:That is beyond the maximum range
msc += $interface:You can't (read|drink) that
msc += $interface:You cannot shoot.*while held in a net
msc += $interface:You're already here
msc += $interface:You can't do that
msc += $interface:Cleared annotation
msc += $interface:Your cursed.*is stuck to you
msc += $interface:You have no means to grasp a wand firmly enough
msc += $interface:Choose a valid weapon
msc += $interface:No previous command
msc += $interface:You sense a monster
msc += $interface:Welcome
msc += $interface:There is a.*trap here
msc += $interface:There is a.*(staircase|entrance).*here
msc += $interface:That item cannot be evoked
msc += $interface:Please enjoy your stay
msc += $interface:You now have enough gold to buy
msc += $interface:Showing terrain only
msc += $interface:Returning to normal view
msc += $interface:Done exploring
msc += $interface:You pace your travel speed to your slowest ally
msc += $interface:The water rises up and takes form
msc += $interface:The winds coalesce and take form
msc += $interface:The.*answers the.*call
msc += $interface:You're too full
msc += $interface:Your memorisation is interrupted
msc += $interface:surroundings become eerily quiet
msc += $interface:You fall into the shallow water
msc += $interface:an escape hatch
msc += $interface:You stop dropping stuff
msc += $interface:melds into your body
msc += $interface:Clearing level map
msc += $interface:There's nothing close enough
msc += $interface:Autopickup is now
msc += $interface:Hurry and find it before the portal
msc += $interface:You slide downwards
msc += $interface:Can't find anything matching that
msc += $interface:No item to drop
msc += $interface:you feel a great hunger. Being not satiated
msc += $interface:You finish taking off
msc += $interface:appears from thin air
msc += $interface:You feel more attuned to
msc += $interface:(Wait here!|Stop fighting!|Fall back!|Follow me!|Attack!)
msc += $interface:You have finished your manual
msc += $interface:Expect minor deviation
msc += $interface:You have no appropriate body parts free
msc += $interface:Your cloak prevents you from wearing the armour
msc ^= $interface:You finish putting on
msc += $interface:You can't carry that much weight
msc += $interface:isn't holding a weapon that can be rebranded
msc += $interface:You feel the dreadful sensation subside
msc += $interface:You feel an oppressive heat about you
msc += $interface:You travel at normal speed
msc += $interface:Your reserves of magic are already full
msc += $interface:There are no corpses nearby
msc += $interface:No target in view
msc += $interface:It (is|was) a (potion|scroll)

# Muted - unnecessary 
#msc += mute:
msc += mute:\&\&\!\!
msc += mute:Cast which spell
msc += mute:Use which ability
msc += mute:Evoke which item
msc += mute:Confirm with
msc += mute:(Casting|Aiming|Aim|Zapping)\:
msc += mute:Throwing.*\:
msc += mute:You can\'t see any susceptible monsters within range
msc += mute:Press\: \? \- help, Shift\-Dir \- straight line, f \- you
msc += mute:for a list of commands and other information
msc += mute:Firing \(i
msc += mute:Fire\/throw which item\?
msc += mute:You swap places

msc ^= mute:is lightly (wounded|damaged)
msc ^= mute:is moderately (wounded|damaged)
msc ^= mute:is heavily (wounded|damaged)
msc ^= mute:is severely (wounded|damaged)
msc ^= mute:is almost (dead|destroyed)

msc += mute:Was it this warm in here before
msc += mute:The flames dance
msc += mute:Your shadow attacks
msc += mute:Marking area around
msc += mute:Placed new exclusion
msc += mute:Reduced exclusion size to a single square
msc += mute:Removed exclusion
msc += mute:You can access your shopping list by pressing
msc += mute:for starvation awaits
msc += mute:As you enter the labyrinth
msc += mute:previously moving walls settle noisily into place
msc += mute:You offer a prayer to Elyvilon
msc += mute:You offer a prayer to Nemelex Xobeh
msc += mute:You offer a prayer to Okawaru
msc += mute:You offer a prayer to Makhleb
msc += mute:You offer a prayer to Lugonu
msc += mute:Lugonu accepts your kill
msc += mute:Okawaru is noncommittal
msc += mute:Nemelex Xobeh is (noncommittal|pleased)
msc += mute:The plant looks sick


##################
# Item colouring #
##################

# Set Alias
menu := menu_colour
# Clear defaults 
menu =

# Variables 
$decent := white
#interface := cyan
#danger   := lightred
#item_dmg   := red
#warning  := yellow
#boring   := darkgrey
#negative := brown
#positive := green
#good     := lightblue
#verypositive := lightgreen
#awesome := lightmagenta

# General 
menu += $boring:(melded)
menu += $boring:.*useless_item.*
menu += $item_dmg:.*evil_item.*
menu += $danger:[^n]cursed
menu += inventory:$danger:[^n]cursed
menu += inventory:$interface:.*equipped.*
menu += $decent:.*artefact.*
menu += $negative:shield of the gong
menu += $danger:.*artefact.* cursed

menu += $warning:^unidentified .*(potion|scroll|wand|jewellery).*
menu += $good:^unidentified .*weapon.*(runed|glowing)
menu += $good:^unidentified .*armour.*(runed|glowing|embroidered)
menu += $good:^unidentified .*armour.*(shiny|dyed)

# Staffs
menu += $verypositive:staff of energy
menu += $positive:[^r] staff of
# rod
menu += $verypositive:rod

# Wands
menu += $boring:wand of (flame|frost|magic darts|random effects)
menu += $decent:wand of (confusion|slowing|polymorph|enslavement|paralysis)
menu += $good:wand of (draining|digging|lightning|fireball)
menu += $good:wand of (fire|cold|disintegration|invisibility)
menu += $positive:wand of hasting
menu += $verypositive:wand of heal wounds
menu += $awesome:wand of teleportation

# Food
menu += $danger:evil_eating
menu += $danger:rot-inducing
menu += magenta:mutagenic
menu += $warning:poisonous
menu += $boring:inedible
menu += $positive:royal jell
menu += $warning:ambrosia
menu += $good:meat ration
menu += $good:bread ration
menu += $good:preferred
menu += blue:contaminated
menu += $good:(corpse|chunk)

# Scrolls
menu += $danger:scrolls? of torment
menu += $boring:scrolls? of (noise|random)
menu += $decent:scrolls? of (holy word|identify|remove curse|amnesia)
menu += $good:scrolls? of (fog|fear|summoning|immolation|silence|vulnerability)
menu += $positive:scrolls? of recharging
menu += $positive:scrolls? of enchant (weapon|armour)
menu += $positive:scrolls? of (magic mapping|vorpalise|brand)
menu += $verypositive:scrolls? of acquirement
menu += $awesome:scrolls? of (blinking|teleportation)

# Potions
menu += $danger:potions? of berserk
menu += magenta:potions? of mutation
menu += $decent:potions? of (restore|flight|lignification)
menu += $good:potions? of (might|agility|brilliance|resistance|invisibility)
menu += $positive:potions? of (curing|magic)
menu += $verypositive:potions? of (haste|speed|heal wounds)
menu += $awesome:potions? of (experience|cure mutation|gain|beneficial)

# Amulets
menu += $boring:amulet of inaccuracy
menu += $good:amulet of (stasis|warding|guardian spirit)
menu += $positive:amulet of (rage|faith|resist corrosion)
menu += $verypositive:amulet of (resist mutation|the gourmand)
menu += $verypositive:amulet of (clarity|conservation)

# Rings
menu += $negative:ring of hunger
menu += $negative:ring of \-.*(slaying|evasion|protection|dexterity|intelligence|strength)
menu += $warning:ring of (ice|fire)
menu += $decent:ring of flight
menu += $verypositive:ring of (slaying|regeneration)
menu += $positive:ring of (poison resistance|protection from magic|see invisible|protection from fire|protection from cold)
menu += $good:ring of (.*evasion|.*protection|sustain abilities|wizardry|invisibility|magical power)
menu += $awesome:ring of teleport

# Misc items
menu += $warning:tome of Destruction
menu += $awesome:.*misc.*rune( of Zot)?
menu += $awesome:.*orb.*Zot
menu += blue:inert
menu += $good:lamp of fire
menu += $good:phial of floods
menu += $good:fan of gales
menu += $good:sack of spiders
menu += $good:throwing net
menu += $decent:stone of tremors
menu += $decent:lantern of shadows
menu += $decent:box of beasts
menu += $warning:disc of storms
menu += $positive:crystal ball of energy
menu += $verypositive:Staff of Wucad Mu

# Deck colouring
menu += $awesome:deck of wonders
menu += $verypositive:deck of escape
menu += $positive:deck of summoning
menu += $danger:deck of destruction
menu += $warning:deck of (dungeon|changes)
menu += $good:deck of defence
menu += $decent:deck of cards
menu += $good:deck of 

####################
# Autoinscriptions #
####################

# Set Alias
ai := autoinscribe

# Overwrite annoying inscriptions with your own

# Inscribe vampiric weapons if you are not a vampire
: if you.race() ~= "Vampire" then
	ai += vampiric:!w
: end

ai += distortion:!w
ai += (Sonja|Psyche):!w
ai += (bad|dangerous)_item.*potion:!q
ai += potion of beserk rage:!q
ai += (bad|dangerous)_item.*scroll:!r
ai += rod of:!a
ai += [Mm]anual of:!d
ai += dispersal:=f
ai += large rock:!f
ai += throwing net:!f, !d
ai += tome of destruction:!d
ai += royal jell:restore abilities

ai += ambrosia:+MP, and confuses
ai += scrolls? of vulnerability:!r
ai += scrolls? of holy word:!r
ai += scrolls? of magic mapping:!r
ai += scrolls? of blinking:!r

ai += amulet of clarity:Clarity, !d
ai += amulet of conservation:Cons, !d
ai += amulet of faith:Faith, !P
ai += amulet of guardian spirit:Spirit
ai += amulet of rage:+Rage, !d
ai += amulet of resist corrosion:rCorr, !d
ai += amulet of resist mutation:rMut, !d
ai += amulet of stasis:Stasis, !d
ai += amulet of the gourmand:Gourmand, !d
ai += amulet of warding:Ward, rN+, !d

ai += ring of fire:rF+, rC-
ai += ring of flight:+Fly, !d
ai += ring of ice:rC+, rF-
ai += ring of invisibility:+Inv, !d
ai += ring of magical power:MP+9
ai += ring of positive energy:rN+
ai += ring of poison resistance:rP+, !d
ai += ring of protection from cold:rC+, !d
ai += ring of protection from fire:rF+, !d
ai += ring of protection from magic:MR+, !d
ai += ring of regeneration:regen, !d
ai += ring of see invisible:sInv, !d
ai += ring of sustain abilities:sustAb
ai += ring of sustenance:Hunger-
ai += ring of teleport control:cTele, !d
ai += ring of teleportation:+/*tele, !d
ai += ring of wizardry:wiz+, !d

ai += staff of air:rElec
ai += staff of cold:rC+
ai += staff of death:rN+
ai += staff of fire:rF+
ai += staff of poison:rP+
ai += staff of energy:+MP, hungerless spells, !d!a
ai += staff of wizardry:wiz+, !a
ai += staff of power:MP+17, !a
ai += staff of conjuration:!a
ai += staff of summoning:!a

: if you.god() == "Fedhas" then
	ai += fruit:!e
: end

autoinscribe_cursed = false
show_god_gift = unident

##################
# Character Dump #
##################

dump_item_origins = all
dump_item_origin_price = 100
dump_message_count = 100
#dump_order = header,hiscore,stats,misc,mutations,skills,spells,overview,inventory
#dump_order += screenshot,monlist,messages,action_counts,vaults,notes,kills
dump_order += vaults, turns_by_place, kills_by_place
dump_book_spells = false
ood_interesting = 6
note_hp_percent = 25
note_all_skill_levels = true
note_xom_effects = true
note_items += of Zot,rod,acquirement
note_messages += Your scales start
note_messages += protects you from harm
note_messages += You fall through a shaft
note_messages += [bB]anish.*Abyss
note_monsters += orb of fire,silver star,pearl dragon,ancient lich